From 3734662e14c86288c46054b1d58e0e282cd752c4 Mon Sep 17 00:00:00 2001
From: "H. Vetinari" <h.vetinari@gmx.com>
Date: Mon, 3 Feb 2025 14:00:47 +1100
Subject: [PATCH 13/17] add symbol export annotations to UPB definitions

Automated with this script:
```
import re
import os

def rewrite(path, pat):
    with open(path, "r+") as f:
        lines = f.readlines()
        # insert GRPC_UPBGEN_DLL for all instances identified by pattern
        lines = [pat.sub(r"GRPC_UPBGEN_DLL \1", x) for x in lines]
        # overwrite file
        f.seek(0)
        f.write("".join(lines))
        f.truncate()

pat_upb = re.compile(r"^(extern const.*_msg_init;)$")
for folder, _, files in os.walk("./src/core/ext/upb-gen"):
    for file in [f for f in files if f.endswith(".upb_minitable.h")]:
        rewrite(os.path.join(folder, file), pat_upb)

pat_upbdefs = re.compile(r"^(extern.*upbdefinit;)$")
for folder, _, files in os.walk("./src/core/ext/upbdefs-gen"):
    for file in [f for f in files if f.endswith(".upbdefs.h")]:
        rewrite(os.path.join(folder, file), pat_upbdefs)
```
---
 .../envoy/admin/v3/certs.upb_minitable.h      |  10 +-
 .../envoy/admin/v3/clusters.upb_minitable.h   |   8 +-
 .../admin/v3/config_dump.upb_minitable.h      |  10 +-
 .../v3/config_dump_shared.upb_minitable.h     |  38 +++---
 .../envoy/admin/v3/init_dump.upb_minitable.h  |   4 +-
 .../envoy/admin/v3/listeners.upb_minitable.h  |   4 +-
 .../envoy/admin/v3/memory.upb_minitable.h     |   2 +-
 .../envoy/admin/v3/metrics.upb_minitable.h    |   2 +-
 .../admin/v3/mutex_stats.upb_minitable.h      |   2 +-
 .../admin/v3/server_info.upb_minitable.h      |   4 +-
 .../envoy/admin/v3/tap.upb_minitable.h        |   2 +-
 .../annotations/resource.upb_minitable.h      |   2 +-
 .../accesslog/v3/accesslog.upb_minitable.h    |  32 ++---
 .../bootstrap/v3/bootstrap.upb_minitable.h    |  46 +++----
 .../v3/circuit_breaker.upb_minitable.h        |   6 +-
 .../config/cluster/v3/cluster.upb_minitable.h |  50 ++++----
 .../config/cluster/v3/filter.upb_minitable.h  |   2 +-
 .../v3/outlier_detection.upb_minitable.h      |   2 +-
 .../common/matcher/v3/matcher.upb_minitable.h |  30 ++---
 .../config/core/v3/address.upb_minitable.h    |  16 +--
 .../config/core/v3/backoff.upb_minitable.h    |   2 +-
 .../envoy/config/core/v3/base.upb_minitable.h |  58 ++++-----
 .../core/v3/config_source.upb_minitable.h     |  14 +--
 .../v3/event_service_config.upb_minitable.h   |   2 +-
 .../config/core/v3/extension.upb_minitable.h  |   2 +-
 .../core/v3/grpc_method_list.upb_minitable.h  |   4 +-
 .../core/v3/grpc_service.upb_minitable.h      |  28 ++---
 .../core/v3/health_check.upb_minitable.h      |  18 +--
 .../core/v3/http_service.upb_minitable.h      |   2 +-
 .../config/core/v3/http_uri.upb_minitable.h   |   2 +-
 .../config/core/v3/protocol.upb_minitable.h   |  32 ++---
 .../core/v3/proxy_protocol.upb_minitable.h    |   4 +-
 .../config/core/v3/resolver.upb_minitable.h   |   4 +-
 .../core/v3/socket_option.upb_minitable.h     |   4 +-
 ...substitution_format_string.upb_minitable.h |   4 +-
 .../core/v3/udp_socket_config.upb_minitable.h |   2 +-
 .../endpoint/v3/endpoint.upb_minitable.h      |   8 +-
 .../v3/endpoint_components.upb_minitable.h    |  14 +--
 .../endpoint/v3/load_report.upb_minitable.h   |  12 +-
 .../listener/v3/api_listener.upb_minitable.h  |   2 +-
 .../listener/v3/listener.upb_minitable.h      |  20 +--
 .../v3/listener_components.upb_minitable.h    |  14 +--
 .../listener/v3/quic_config.upb_minitable.h   |   2 +-
 .../v3/udp_listener_config.upb_minitable.h    |   4 +-
 .../v3/metrics_service.upb_minitable.h        |   2 +-
 .../config/metrics/v3/stats.upb_minitable.h   |  16 +--
 .../overload/v3/overload.upb_minitable.h      |  20 +--
 .../envoy/config/rbac/v3/rbac.upb_minitable.h |  22 ++--
 .../config/route/v3/route.upb_minitable.h     |   6 +-
 .../route/v3/route_components.upb_minitable.h | 116 +++++++++---------
 .../route/v3/scoped_route.upb_minitable.h     |   6 +-
 .../config/tap/v3/common.upb_minitable.h      |  24 ++--
 .../config/trace/v3/datadog.upb_minitable.h   |   4 +-
 .../trace/v3/dynamic_ot.upb_minitable.h       |   2 +-
 .../trace/v3/http_tracer.upb_minitable.h      |   4 +-
 .../config/trace/v3/lightstep.upb_minitable.h |   2 +-
 .../trace/v3/opencensus.upb_minitable.h       |   2 +-
 .../trace/v3/opentelemetry.upb_minitable.h    |   2 +-
 .../config/trace/v3/service.upb_minitable.h   |   2 +-
 .../trace/v3/skywalking.upb_minitable.h       |   4 +-
 .../config/trace/v3/xray.upb_minitable.h      |   4 +-
 .../config/trace/v3/zipkin.upb_minitable.h    |   2 +-
 .../accesslog/v3/accesslog.upb_minitable.h    |  32 ++---
 .../aggregate/v3/cluster.upb_minitable.h      |   2 +-
 .../common/fault/v3/fault.upb_minitable.h     |  10 +-
 .../http/fault/v3/fault.upb_minitable.h       |   6 +-
 .../gcp_authn/v3/gcp_authn.upb_minitable.h    |   8 +-
 .../filters/http/rbac/v3/rbac.upb_minitable.h |   4 +-
 .../http/router/v3/router.upb_minitable.h     |   4 +-
 .../v3/stateful_session.upb_minitable.h       |   4 +-
 .../http_connection_manager.upb_minitable.h   |  42 +++----
 .../cookie/v3/cookie.upb_minitable.h          |   2 +-
 ..._side_weighted_round_robin.upb_minitable.h |   2 +-
 .../common/v3/common.upb_minitable.h          |  10 +-
 .../pick_first/v3/pick_first.upb_minitable.h  |   2 +-
 .../ring_hash/v3/ring_hash.upb_minitable.h    |   2 +-
 .../v3/wrr_locality.upb_minitable.h           |   2 +-
 .../upstream_http_11_connect.upb_minitable.h  |   2 +-
 .../tls/v3/common.upb_minitable.h             |  16 +--
 .../tls/v3/secret.upb_minitable.h             |   6 +-
 .../tls/v3/tls.upb_minitable.h                |  14 +--
 ...ls_spiffe_validator_config.upb_minitable.h |   4 +-
 .../v3/http_protocol_options.upb_minitable.h  |   8 +-
 .../service/discovery/v3/ads.upb_minitable.h  |   2 +-
 .../discovery/v3/discovery.upb_minitable.h    |  28 ++---
 .../service/load_stats/v3/lrs.upb_minitable.h |   4 +-
 .../service/status/v3/csds.upb_minitable.h    |  10 +-
 .../envoy/type/http/v3/cookie.upb_minitable.h |   2 +-
 .../v3/path_transformation.upb_minitable.h    |   8 +-
 .../matcher/v3/filter_state.upb_minitable.h   |   2 +-
 .../matcher/v3/http_inputs.upb_minitable.h    |  10 +-
 .../type/matcher/v3/metadata.upb_minitable.h  |   4 +-
 .../type/matcher/v3/node.upb_minitable.h      |   2 +-
 .../type/matcher/v3/number.upb_minitable.h    |   2 +-
 .../type/matcher/v3/path.upb_minitable.h      |   2 +-
 .../type/matcher/v3/regex.upb_minitable.h     |   6 +-
 .../v3/status_code_input.upb_minitable.h      |   4 +-
 .../type/matcher/v3/string.upb_minitable.h    |   4 +-
 .../type/matcher/v3/struct.upb_minitable.h    |   4 +-
 .../type/matcher/v3/value.upb_minitable.h     |   8 +-
 .../type/metadata/v3/metadata.upb_minitable.h |  14 +--
 .../tracing/v3/custom_tag.upb_minitable.h     |  10 +-
 .../envoy/type/v3/hash_policy.upb_minitable.h |   6 +-
 .../envoy/type/v3/http_status.upb_minitable.h |   2 +-
 .../envoy/type/v3/percent.upb_minitable.h     |   4 +-
 .../envoy/type/v3/range.upb_minitable.h       |   6 +-
 .../v3/ratelimit_strategy.upb_minitable.h     |   4 +-
 .../type/v3/semantic_version.upb_minitable.h  |   2 +-
 .../type/v3/token_bucket.upb_minitable.h      |   2 +-
 .../api/expr/v1alpha1/checked.upb_minitable.h |  26 ++--
 .../api/expr/v1alpha1/syntax.upb_minitable.h  |  32 ++---
 .../upb-gen/google/api/http.upb_minitable.h   |   6 +-
 .../google/api/httpbody.upb_minitable.h       |   2 +-
 .../google/protobuf/any.upb_minitable.h       |   2 +-
 .../protobuf/descriptor.upb_minitable.h       |  66 +++++-----
 .../google/protobuf/duration.upb_minitable.h  |   2 +-
 .../google/protobuf/empty.upb_minitable.h     |   2 +-
 .../google/protobuf/struct.upb_minitable.h    |   8 +-
 .../google/protobuf/timestamp.upb_minitable.h |   2 +-
 .../google/protobuf/wrappers.upb_minitable.h  |  18 +--
 .../upb-gen/google/rpc/status.upb_minitable.h |   2 +-
 .../trace/v1/trace_config.upb_minitable.h     |   8 +-
 .../grpc/gcp/altscontext.upb_minitable.h      |   4 +-
 .../proto/grpc/gcp/handshaker.upb_minitable.h |  24 ++--
 .../transport_security_common.upb_minitable.h |   4 +-
 .../grpc/health/v1/health.upb_minitable.h     |   4 +-
 .../grpc/lb/v1/load_balancer.upb_minitable.h  |  18 +--
 .../proto/grpc/lookup/v1/rls.upb_minitable.h  |   6 +-
 .../grpc/lookup/v1/rls_config.upb_minitable.h |  18 +--
 .../udpa/annotations/migrate.upb_minitable.h  |   6 +-
 .../udpa/annotations/security.upb_minitable.h |   2 +-
 .../udpa/annotations/status.upb_minitable.h   |   2 +-
 .../annotations/versioning.upb_minitable.h    |   2 +-
 .../upb-gen/validate/validate.upb_minitable.h |  46 +++----
 .../annotations/v3/migrate.upb_minitable.h    |   6 +-
 .../annotations/v3/security.upb_minitable.h   |   2 +-
 .../xds/annotations/v3/status.upb_minitable.h |   8 +-
 .../annotations/v3/versioning.upb_minitable.h |   2 +-
 .../xds/core/v3/authority.upb_minitable.h     |   2 +-
 .../upb-gen/xds/core/v3/cidr.upb_minitable.h  |   2 +-
 .../core/v3/collection_entry.upb_minitable.h  |   4 +-
 .../core/v3/context_params.upb_minitable.h    |   4 +-
 .../xds/core/v3/extension.upb_minitable.h     |   2 +-
 .../xds/core/v3/resource.upb_minitable.h      |   2 +-
 .../core/v3/resource_locator.upb_minitable.h  |   4 +-
 .../xds/core/v3/resource_name.upb_minitable.h |   2 +-
 .../orca/v3/orca_load_report.upb_minitable.h  |   8 +-
 .../xds/service/orca/v3/orca.upb_minitable.h  |   2 +-
 .../xds/type/matcher/v3/cel.upb_minitable.h   |   2 +-
 .../type/matcher/v3/domain.upb_minitable.h    |   4 +-
 .../matcher/v3/http_inputs.upb_minitable.h    |   2 +-
 .../xds/type/matcher/v3/ip.upb_minitable.h    |   4 +-
 .../type/matcher/v3/matcher.upb_minitable.h   |  20 +--
 .../xds/type/matcher/v3/range.upb_minitable.h |  12 +-
 .../xds/type/matcher/v3/regex.upb_minitable.h |   4 +-
 .../type/matcher/v3/string.upb_minitable.h    |   4 +-
 .../upb-gen/xds/type/v3/cel.upb_minitable.h   |   4 +-
 .../upb-gen/xds/type/v3/range.upb_minitable.h |   6 +-
 .../xds/type/v3/typed_struct.upb_minitable.h  |   2 +-
 .../envoy/admin/v3/certs.upbdefs.h            |   2 +-
 .../envoy/admin/v3/clusters.upbdefs.h         |   2 +-
 .../envoy/admin/v3/config_dump.upbdefs.h      |   2 +-
 .../admin/v3/config_dump_shared.upbdefs.h     |   2 +-
 .../envoy/admin/v3/init_dump.upbdefs.h        |   2 +-
 .../envoy/admin/v3/listeners.upbdefs.h        |   2 +-
 .../envoy/admin/v3/memory.upbdefs.h           |   2 +-
 .../envoy/admin/v3/metrics.upbdefs.h          |   2 +-
 .../envoy/admin/v3/mutex_stats.upbdefs.h      |   2 +-
 .../envoy/admin/v3/server_info.upbdefs.h      |   2 +-
 .../upbdefs-gen/envoy/admin/v3/tap.upbdefs.h  |   2 +-
 .../envoy/annotations/deprecation.upbdefs.h   |   2 +-
 .../envoy/annotations/resource.upbdefs.h      |   2 +-
 .../config/accesslog/v3/accesslog.upbdefs.h   |   2 +-
 .../config/bootstrap/v3/bootstrap.upbdefs.h   |   2 +-
 .../cluster/v3/circuit_breaker.upbdefs.h      |   2 +-
 .../envoy/config/cluster/v3/cluster.upbdefs.h |   2 +-
 .../envoy/config/cluster/v3/filter.upbdefs.h  |   2 +-
 .../cluster/v3/outlier_detection.upbdefs.h    |   2 +-
 .../common/matcher/v3/matcher.upbdefs.h       |   2 +-
 .../envoy/config/core/v3/address.upbdefs.h    |   2 +-
 .../envoy/config/core/v3/backoff.upbdefs.h    |   2 +-
 .../envoy/config/core/v3/base.upbdefs.h       |   2 +-
 .../config/core/v3/config_source.upbdefs.h    |   2 +-
 .../core/v3/event_service_config.upbdefs.h    |   2 +-
 .../envoy/config/core/v3/extension.upbdefs.h  |   2 +-
 .../config/core/v3/grpc_method_list.upbdefs.h |   2 +-
 .../config/core/v3/grpc_service.upbdefs.h     |   2 +-
 .../config/core/v3/health_check.upbdefs.h     |   2 +-
 .../config/core/v3/http_service.upbdefs.h     |   2 +-
 .../envoy/config/core/v3/http_uri.upbdefs.h   |   2 +-
 .../envoy/config/core/v3/protocol.upbdefs.h   |   2 +-
 .../config/core/v3/proxy_protocol.upbdefs.h   |   2 +-
 .../envoy/config/core/v3/resolver.upbdefs.h   |   2 +-
 .../config/core/v3/socket_option.upbdefs.h    |   2 +-
 .../v3/substitution_format_string.upbdefs.h   |   2 +-
 .../core/v3/udp_socket_config.upbdefs.h       |   2 +-
 .../config/endpoint/v3/endpoint.upbdefs.h     |   2 +-
 .../endpoint/v3/endpoint_components.upbdefs.h |   2 +-
 .../config/endpoint/v3/load_report.upbdefs.h  |   2 +-
 .../config/listener/v3/api_listener.upbdefs.h |   2 +-
 .../config/listener/v3/listener.upbdefs.h     |   2 +-
 .../listener/v3/listener_components.upbdefs.h |   2 +-
 .../config/listener/v3/quic_config.upbdefs.h  |   2 +-
 .../listener/v3/udp_listener_config.upbdefs.h |   2 +-
 .../metrics/v3/metrics_service.upbdefs.h      |   2 +-
 .../envoy/config/metrics/v3/stats.upbdefs.h   |   2 +-
 .../config/overload/v3/overload.upbdefs.h     |   2 +-
 .../envoy/config/rbac/v3/rbac.upbdefs.h       |   2 +-
 .../envoy/config/route/v3/route.upbdefs.h     |   2 +-
 .../route/v3/route_components.upbdefs.h       |   2 +-
 .../config/route/v3/scoped_route.upbdefs.h    |   2 +-
 .../envoy/config/tap/v3/common.upbdefs.h      |   2 +-
 .../envoy/config/trace/v3/datadog.upbdefs.h   |   2 +-
 .../config/trace/v3/dynamic_ot.upbdefs.h      |   2 +-
 .../config/trace/v3/http_tracer.upbdefs.h     |   2 +-
 .../envoy/config/trace/v3/lightstep.upbdefs.h |   2 +-
 .../config/trace/v3/opencensus.upbdefs.h      |   2 +-
 .../config/trace/v3/opentelemetry.upbdefs.h   |   2 +-
 .../envoy/config/trace/v3/service.upbdefs.h   |   2 +-
 .../config/trace/v3/skywalking.upbdefs.h      |   2 +-
 .../envoy/config/trace/v3/trace.upbdefs.h     |   2 +-
 .../envoy/config/trace/v3/xray.upbdefs.h      |   2 +-
 .../envoy/config/trace/v3/zipkin.upbdefs.h    |   2 +-
 .../data/accesslog/v3/accesslog.upbdefs.h     |   2 +-
 .../clusters/aggregate/v3/cluster.upbdefs.h   |   2 +-
 .../filters/common/fault/v3/fault.upbdefs.h   |   2 +-
 .../filters/http/fault/v3/fault.upbdefs.h     |   2 +-
 .../http/gcp_authn/v3/gcp_authn.upbdefs.h     |   2 +-
 .../filters/http/rbac/v3/rbac.upbdefs.h       |   2 +-
 .../filters/http/router/v3/router.upbdefs.h   |   2 +-
 .../v3/stateful_session.upbdefs.h             |   2 +-
 .../v3/http_connection_manager.upbdefs.h      |   2 +-
 .../cookie/v3/cookie.upbdefs.h                |   2 +-
 .../v3/upstream_http_11_connect.upbdefs.h     |   2 +-
 .../transport_sockets/tls/v3/cert.upbdefs.h   |   2 +-
 .../transport_sockets/tls/v3/common.upbdefs.h |   2 +-
 .../transport_sockets/tls/v3/secret.upbdefs.h |   2 +-
 .../transport_sockets/tls/v3/tls.upbdefs.h    |   2 +-
 .../v3/tls_spiffe_validator_config.upbdefs.h  |   2 +-
 .../http/v3/http_protocol_options.upbdefs.h   |   2 +-
 .../envoy/service/discovery/v3/ads.upbdefs.h  |   2 +-
 .../service/discovery/v3/discovery.upbdefs.h  |   2 +-
 .../envoy/service/load_stats/v3/lrs.upbdefs.h |   2 +-
 .../envoy/service/status/v3/csds.upbdefs.h    |   2 +-
 .../envoy/type/http/v3/cookie.upbdefs.h       |   2 +-
 .../http/v3/path_transformation.upbdefs.h     |   2 +-
 .../type/matcher/v3/filter_state.upbdefs.h    |   2 +-
 .../type/matcher/v3/http_inputs.upbdefs.h     |   2 +-
 .../envoy/type/matcher/v3/metadata.upbdefs.h  |   2 +-
 .../envoy/type/matcher/v3/node.upbdefs.h      |   2 +-
 .../envoy/type/matcher/v3/number.upbdefs.h    |   2 +-
 .../envoy/type/matcher/v3/path.upbdefs.h      |   2 +-
 .../envoy/type/matcher/v3/regex.upbdefs.h     |   2 +-
 .../matcher/v3/status_code_input.upbdefs.h    |   2 +-
 .../envoy/type/matcher/v3/string.upbdefs.h    |   2 +-
 .../envoy/type/matcher/v3/struct.upbdefs.h    |   2 +-
 .../envoy/type/matcher/v3/value.upbdefs.h     |   2 +-
 .../envoy/type/metadata/v3/metadata.upbdefs.h |   2 +-
 .../type/tracing/v3/custom_tag.upbdefs.h      |   2 +-
 .../envoy/type/v3/hash_policy.upbdefs.h       |   2 +-
 .../upbdefs-gen/envoy/type/v3/http.upbdefs.h  |   2 +-
 .../envoy/type/v3/http_status.upbdefs.h       |   2 +-
 .../envoy/type/v3/percent.upbdefs.h           |   2 +-
 .../upbdefs-gen/envoy/type/v3/range.upbdefs.h |   2 +-
 .../type/v3/ratelimit_strategy.upbdefs.h      |   2 +-
 .../envoy/type/v3/ratelimit_unit.upbdefs.h    |   2 +-
 .../envoy/type/v3/semantic_version.upbdefs.h  |   2 +-
 .../envoy/type/v3/token_bucket.upbdefs.h      |   2 +-
 .../google/api/annotations.upbdefs.h          |   2 +-
 .../api/expr/v1alpha1/checked.upbdefs.h       |   2 +-
 .../google/api/expr/v1alpha1/syntax.upbdefs.h |   2 +-
 .../ext/upbdefs-gen/google/api/http.upbdefs.h |   2 +-
 .../upbdefs-gen/google/api/httpbody.upbdefs.h |   2 +-
 .../upbdefs-gen/google/protobuf/any.upbdefs.h |   2 +-
 .../google/protobuf/descriptor.upbdefs.h      |   2 +-
 .../google/protobuf/duration.upbdefs.h        |   2 +-
 .../google/protobuf/empty.upbdefs.h           |   2 +-
 .../google/protobuf/struct.upbdefs.h          |   2 +-
 .../google/protobuf/timestamp.upbdefs.h       |   2 +-
 .../google/protobuf/wrappers.upbdefs.h        |   2 +-
 .../upbdefs-gen/google/rpc/status.upbdefs.h   |   2 +-
 .../proto/trace/v1/trace_config.upbdefs.h     |   2 +-
 .../proto/grpc/lookup/v1/rls_config.upbdefs.h |   2 +-
 .../udpa/annotations/migrate.upbdefs.h        |   2 +-
 .../udpa/annotations/security.upbdefs.h       |   2 +-
 .../udpa/annotations/sensitive.upbdefs.h      |   2 +-
 .../udpa/annotations/status.upbdefs.h         |   2 +-
 .../udpa/annotations/versioning.upbdefs.h     |   2 +-
 .../upbdefs-gen/validate/validate.upbdefs.h   |   2 +-
 .../xds/annotations/v3/migrate.upbdefs.h      |   2 +-
 .../xds/annotations/v3/security.upbdefs.h     |   2 +-
 .../xds/annotations/v3/sensitive.upbdefs.h    |   2 +-
 .../xds/annotations/v3/status.upbdefs.h       |   2 +-
 .../xds/annotations/v3/versioning.upbdefs.h   |   2 +-
 .../xds/core/v3/authority.upbdefs.h           |   2 +-
 .../upbdefs-gen/xds/core/v3/cidr.upbdefs.h    |   2 +-
 .../xds/core/v3/collection_entry.upbdefs.h    |   2 +-
 .../xds/core/v3/context_params.upbdefs.h      |   2 +-
 .../xds/core/v3/extension.upbdefs.h           |   2 +-
 .../xds/core/v3/resource.upbdefs.h            |   2 +-
 .../xds/core/v3/resource_locator.upbdefs.h    |   2 +-
 .../xds/core/v3/resource_name.upbdefs.h       |   2 +-
 .../xds/type/matcher/v3/cel.upbdefs.h         |   2 +-
 .../xds/type/matcher/v3/domain.upbdefs.h      |   2 +-
 .../xds/type/matcher/v3/http_inputs.upbdefs.h |   2 +-
 .../xds/type/matcher/v3/ip.upbdefs.h          |   2 +-
 .../xds/type/matcher/v3/matcher.upbdefs.h     |   2 +-
 .../xds/type/matcher/v3/range.upbdefs.h       |   2 +-
 .../xds/type/matcher/v3/regex.upbdefs.h       |   2 +-
 .../xds/type/matcher/v3/string.upbdefs.h      |   2 +-
 .../ext/upbdefs-gen/xds/type/v3/cel.upbdefs.h |   2 +-
 .../upbdefs-gen/xds/type/v3/range.upbdefs.h   |   2 +-
 .../xds/type/v3/typed_struct.upbdefs.h        |   2 +-
 313 files changed, 919 insertions(+), 919 deletions(-)

diff --git a/src/core/ext/upb-gen/envoy/admin/v3/certs.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/certs.upb_minitable.h
index 4cc36e037b..dde3fd21ea 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/certs.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/certs.upb_minitable.h
@@ -18,15 +18,15 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__Certificates_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__Certificates_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__Certificates_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__Certificate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__Certificate_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__Certificate_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__CertificateDetails_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__CertificateDetails_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__CertificateDetails_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__CertificateDetails__OcspDetails_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__CertificateDetails__OcspDetails_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__CertificateDetails__OcspDetails_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__SubjectAlternateName_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__SubjectAlternateName_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__SubjectAlternateName_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_certs_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/clusters.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/clusters.upb_minitable.h
index 712835d2d7..b48be4eb42 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/clusters.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/clusters.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__Clusters_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__Clusters_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__Clusters_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ClusterStatus_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ClusterStatus_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ClusterStatus_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__HostStatus_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__HostStatus_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__HostStatus_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__HostHealthStatus_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__HostHealthStatus_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__HostHealthStatus_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_clusters_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/config_dump.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/config_dump.upb_minitable.h
index 151259ffd9..76a90dab16 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/config_dump.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/config_dump.upb_minitable.h
@@ -18,15 +18,15 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__ConfigDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ConfigDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ConfigDump_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__BootstrapConfigDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__BootstrapConfigDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__BootstrapConfigDump_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__SecretsConfigDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__SecretsConfigDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__SecretsConfigDump_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__SecretsConfigDump__DynamicSecret_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__SecretsConfigDump__DynamicSecret_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__SecretsConfigDump__DynamicSecret_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__SecretsConfigDump__StaticSecret_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__SecretsConfigDump__StaticSecret_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__SecretsConfigDump__StaticSecret_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_config_dump_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/config_dump_shared.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/config_dump_shared.upb_minitable.h
index 511f4ab844..86bd0d66fa 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/config_dump_shared.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/config_dump_shared.upb_minitable.h
@@ -18,43 +18,43 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__UpdateFailureState_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__UpdateFailureState_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__UpdateFailureState_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ListenersConfigDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ListenersConfigDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ListenersConfigDump_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ListenersConfigDump__StaticListener_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ListenersConfigDump__StaticListener_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ListenersConfigDump__StaticListener_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ListenersConfigDump__DynamicListenerState_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ListenersConfigDump__DynamicListenerState_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ListenersConfigDump__DynamicListenerState_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ListenersConfigDump__DynamicListener_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ListenersConfigDump__DynamicListener_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ListenersConfigDump__DynamicListener_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ClustersConfigDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ClustersConfigDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ClustersConfigDump_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ClustersConfigDump__StaticCluster_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ClustersConfigDump__StaticCluster_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ClustersConfigDump__StaticCluster_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ClustersConfigDump__DynamicCluster_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ClustersConfigDump__DynamicCluster_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ClustersConfigDump__DynamicCluster_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__RoutesConfigDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__RoutesConfigDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__RoutesConfigDump_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__RoutesConfigDump__StaticRouteConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__RoutesConfigDump__StaticRouteConfig_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__RoutesConfigDump__StaticRouteConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__RoutesConfigDump__DynamicRouteConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__RoutesConfigDump__DynamicRouteConfig_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__RoutesConfigDump__DynamicRouteConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ScopedRoutesConfigDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ScopedRoutesConfigDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ScopedRoutesConfigDump_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ScopedRoutesConfigDump__InlineScopedRouteConfigs_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ScopedRoutesConfigDump__InlineScopedRouteConfigs_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ScopedRoutesConfigDump__InlineScopedRouteConfigs_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ScopedRoutesConfigDump__DynamicScopedRouteConfigs_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ScopedRoutesConfigDump__DynamicScopedRouteConfigs_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ScopedRoutesConfigDump__DynamicScopedRouteConfigs_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__EndpointsConfigDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__EndpointsConfigDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__EndpointsConfigDump_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__EndpointsConfigDump__StaticEndpointConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__EndpointsConfigDump__StaticEndpointConfig_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__EndpointsConfigDump__StaticEndpointConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__EndpointsConfigDump__DynamicEndpointConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__EndpointsConfigDump__DynamicEndpointConfig_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__EndpointsConfigDump__DynamicEndpointConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__EcdsConfigDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__EcdsConfigDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__EcdsConfigDump_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__EcdsConfigDump__EcdsFilterConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__EcdsConfigDump__EcdsFilterConfig_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__EcdsConfigDump__EcdsFilterConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_config_dump_shared_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/init_dump.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/init_dump.upb_minitable.h
index 06de230e9f..3ce14be548 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/init_dump.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/init_dump.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__UnreadyTargetsDumps_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__UnreadyTargetsDumps_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__UnreadyTargetsDumps_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__UnreadyTargetsDumps__UnreadyTargetsDump_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__UnreadyTargetsDumps__UnreadyTargetsDump_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__UnreadyTargetsDumps__UnreadyTargetsDump_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_init_dump_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/listeners.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/listeners.upb_minitable.h
index 0d55265067..8631f08bd0 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/listeners.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/listeners.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__Listeners_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__Listeners_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__Listeners_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__ListenerStatus_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ListenerStatus_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ListenerStatus_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_listeners_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/memory.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/memory.upb_minitable.h
index 1c70ef5a5f..b926bb8d8f 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/memory.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/memory.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__Memory_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__Memory_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__Memory_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_memory_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/metrics.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/metrics.upb_minitable.h
index 749d7b8012..dae7a76a28 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/metrics.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/metrics.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__SimpleMetric_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__SimpleMetric_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__SimpleMetric_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_metrics_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/mutex_stats.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/mutex_stats.upb_minitable.h
index d6e194e6eb..e5037f6803 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/mutex_stats.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/mutex_stats.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__MutexStats_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__MutexStats_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__MutexStats_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_mutex_stats_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/server_info.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/server_info.upb_minitable.h
index bd2698123d..36d2cc66f4 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/server_info.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/server_info.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__ServerInfo_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__ServerInfo_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__ServerInfo_msg_init_ptr;
-extern const upb_MiniTable envoy__admin__v3__CommandLineOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__CommandLineOptions_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__CommandLineOptions_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_server_info_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/admin/v3/tap.upb_minitable.h b/src/core/ext/upb-gen/envoy/admin/v3/tap.upb_minitable.h
index 4fd0486202..e603982172 100644
--- a/src/core/ext/upb-gen/envoy/admin/v3/tap.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/admin/v3/tap.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__admin__v3__TapRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__admin__v3__TapRequest_msg_init;
 extern const upb_MiniTable* envoy__admin__v3__TapRequest_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_admin_v3_tap_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/annotations/resource.upb_minitable.h b/src/core/ext/upb-gen/envoy/annotations/resource.upb_minitable.h
index 31b5c25be5..76186e519d 100644
--- a/src/core/ext/upb-gen/envoy/annotations/resource.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/annotations/resource.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__annotations__ResourceAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__annotations__ResourceAnnotation_msg_init;
 extern const upb_MiniTable* envoy__annotations__ResourceAnnotation_msg_init_ptr;
 extern const upb_MiniTableExtension envoy_annotations_resource_ext;
 
diff --git a/src/core/ext/upb-gen/envoy/config/accesslog/v3/accesslog.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/accesslog/v3/accesslog.upb_minitable.h
index 20cbe2a50c..aef23ad161 100644
--- a/src/core/ext/upb-gen/envoy/config/accesslog/v3/accesslog.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/accesslog/v3/accesslog.upb_minitable.h
@@ -18,37 +18,37 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__accesslog__v3__AccessLog_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__AccessLog_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__AccessLog_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__AccessLogFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__AccessLogFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__AccessLogFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__ComparisonFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__ComparisonFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__ComparisonFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__StatusCodeFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__StatusCodeFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__StatusCodeFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__DurationFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__DurationFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__DurationFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__NotHealthCheckFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__NotHealthCheckFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__NotHealthCheckFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__TraceableFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__TraceableFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__TraceableFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__RuntimeFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__RuntimeFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__RuntimeFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__AndFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__AndFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__AndFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__OrFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__OrFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__OrFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__HeaderFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__HeaderFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__HeaderFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__ResponseFlagFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__ResponseFlagFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__ResponseFlagFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__GrpcStatusFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__GrpcStatusFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__GrpcStatusFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__MetadataFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__MetadataFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__MetadataFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__LogTypeFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__LogTypeFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__LogTypeFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__accesslog__v3__ExtensionFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__accesslog__v3__ExtensionFilter_msg_init;
 extern const upb_MiniTable* envoy__config__accesslog__v3__ExtensionFilter_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_accesslog_v3_accesslog_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/bootstrap/v3/bootstrap.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/bootstrap/v3/bootstrap.upb_minitable.h
index f55a0226b3..ed1115dce0 100644
--- a/src/core/ext/upb-gen/envoy/config/bootstrap/v3/bootstrap.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/bootstrap/v3/bootstrap.upb_minitable.h
@@ -18,51 +18,51 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Bootstrap_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__StaticResources_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__StaticResources_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Bootstrap__StaticResources_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__DynamicResources_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__DynamicResources_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Bootstrap__DynamicResources_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__ApplicationLogConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__ApplicationLogConfig_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Bootstrap__ApplicationLogConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__ApplicationLogConfig__LogFormat_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__ApplicationLogConfig__LogFormat_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Bootstrap__ApplicationLogConfig__LogFormat_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__DeferredStatOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__DeferredStatOptions_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Bootstrap__DeferredStatOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__GrpcAsyncClientManagerConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__GrpcAsyncClientManagerConfig_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Bootstrap__GrpcAsyncClientManagerConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__CertificateProviderInstancesEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Bootstrap__CertificateProviderInstancesEntry_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Bootstrap__CertificateProviderInstancesEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Admin_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Admin_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Admin_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__ClusterManager_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__ClusterManager_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__ClusterManager_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__ClusterManager__OutlierDetection_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__ClusterManager__OutlierDetection_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__ClusterManager__OutlierDetection_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Watchdogs_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Watchdogs_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Watchdogs_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Watchdog_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Watchdog_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Watchdog_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Watchdog__WatchdogAction_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Watchdog__WatchdogAction_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Watchdog__WatchdogAction_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__FatalAction_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__FatalAction_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__FatalAction_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__Runtime_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__Runtime_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__Runtime_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__RuntimeLayer_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__RuntimeLayer_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__RuntimeLayer_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__RuntimeLayer__DiskLayer_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__RuntimeLayer__DiskLayer_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__RuntimeLayer__DiskLayer_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__RuntimeLayer__AdminLayer_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__RuntimeLayer__AdminLayer_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__RuntimeLayer__AdminLayer_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__RuntimeLayer__RtdsLayer_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__RuntimeLayer__RtdsLayer_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__RuntimeLayer__RtdsLayer_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__LayeredRuntime_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__LayeredRuntime_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__LayeredRuntime_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__CustomInlineHeader_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__CustomInlineHeader_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__CustomInlineHeader_msg_init_ptr;
-extern const upb_MiniTable envoy__config__bootstrap__v3__MemoryAllocatorManager_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__bootstrap__v3__MemoryAllocatorManager_msg_init;
 extern const upb_MiniTable* envoy__config__bootstrap__v3__MemoryAllocatorManager_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_bootstrap_v3_bootstrap_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/cluster/v3/circuit_breaker.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/cluster/v3/circuit_breaker.upb_minitable.h
index 8e9d6b14c6..31b1b9db94 100644
--- a/src/core/ext/upb-gen/envoy/config/cluster/v3/circuit_breaker.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/cluster/v3/circuit_breaker.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__cluster__v3__CircuitBreakers_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__CircuitBreakers_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__CircuitBreakers_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__CircuitBreakers__Thresholds_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__CircuitBreakers__Thresholds_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__CircuitBreakers__Thresholds_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__CircuitBreakers__Thresholds__RetryBudget_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__CircuitBreakers__Thresholds__RetryBudget_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__CircuitBreakers__Thresholds__RetryBudget_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_cluster_v3_circuit_breaker_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/cluster/v3/cluster.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/cluster/v3/cluster.upb_minitable.h
index 3544019a86..eb2ba5861a 100644
--- a/src/core/ext/upb-gen/envoy/config/cluster/v3/cluster.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/cluster/v3/cluster.upb_minitable.h
@@ -18,55 +18,55 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__cluster__v3__ClusterCollection_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__ClusterCollection_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__ClusterCollection_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__TransportSocketMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__TransportSocketMatch_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__TransportSocketMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CustomClusterType_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CustomClusterType_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__CustomClusterType_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__EdsClusterConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__EdsClusterConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__EdsClusterConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__LbSubsetConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__LbSubsetConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__LbSubsetConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__LbSubsetConfig__LbSubsetSelector_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__LbSubsetConfig__LbSubsetSelector_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__LbSubsetConfig__LbSubsetSelector_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__SlowStartConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__SlowStartConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__SlowStartConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__RoundRobinLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__RoundRobinLbConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__RoundRobinLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__LeastRequestLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__LeastRequestLbConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__LeastRequestLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__RingHashLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__RingHashLbConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__RingHashLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__MaglevLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__MaglevLbConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__MaglevLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__OriginalDstLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__OriginalDstLbConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__OriginalDstLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CommonLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CommonLbConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__CommonLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CommonLbConfig__ZoneAwareLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CommonLbConfig__ZoneAwareLbConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__CommonLbConfig__ZoneAwareLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CommonLbConfig__LocalityWeightedLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CommonLbConfig__LocalityWeightedLbConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__CommonLbConfig__LocalityWeightedLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CommonLbConfig__ConsistentHashingLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__CommonLbConfig__ConsistentHashingLbConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__CommonLbConfig__ConsistentHashingLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__RefreshRate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__RefreshRate_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__RefreshRate_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__PreconnectPolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__PreconnectPolicy_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__PreconnectPolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__Cluster__TypedExtensionProtocolOptionsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Cluster__TypedExtensionProtocolOptionsEntry_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Cluster__TypedExtensionProtocolOptionsEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__LoadBalancingPolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__LoadBalancingPolicy_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__LoadBalancingPolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__LoadBalancingPolicy__Policy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__LoadBalancingPolicy__Policy_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__LoadBalancingPolicy__Policy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__UpstreamConnectionOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__UpstreamConnectionOptions_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__UpstreamConnectionOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__UpstreamConnectionOptions__HappyEyeballsConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__UpstreamConnectionOptions__HappyEyeballsConfig_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__UpstreamConnectionOptions__HappyEyeballsConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__cluster__v3__TrackClusterStats_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__TrackClusterStats_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__TrackClusterStats_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_cluster_v3_cluster_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/cluster/v3/filter.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/cluster/v3/filter.upb_minitable.h
index 1ccb0027bb..1a07fe6f1e 100644
--- a/src/core/ext/upb-gen/envoy/config/cluster/v3/filter.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/cluster/v3/filter.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__cluster__v3__Filter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__Filter_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__Filter_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_cluster_v3_filter_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/cluster/v3/outlier_detection.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/cluster/v3/outlier_detection.upb_minitable.h
index 74820ba44c..f61fc3d0df 100644
--- a/src/core/ext/upb-gen/envoy/config/cluster/v3/outlier_detection.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/cluster/v3/outlier_detection.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__cluster__v3__OutlierDetection_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__cluster__v3__OutlierDetection_msg_init;
 extern const upb_MiniTable* envoy__config__cluster__v3__OutlierDetection_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_cluster_v3_outlier_detection_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/common/matcher/v3/matcher.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/common/matcher/v3/matcher.upb_minitable.h
index 8312f75af5..937f7bf93a 100644
--- a/src/core/ext/upb-gen/envoy/config/common/matcher/v3/matcher.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/common/matcher/v3/matcher.upb_minitable.h
@@ -18,35 +18,35 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__OnMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__OnMatch_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher__OnMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher__MatcherList_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList__Predicate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList__Predicate_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher__MatcherList__Predicate_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList__Predicate__SinglePredicate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList__Predicate__SinglePredicate_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher__MatcherList__Predicate__SinglePredicate_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList__Predicate__PredicateList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList__Predicate__PredicateList_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher__MatcherList__Predicate__PredicateList_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList__FieldMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherList__FieldMatcher_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher__MatcherList__FieldMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherTree_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherTree_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher__MatcherTree_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherTree__MatchMap_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherTree__MatchMap_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher__MatcherTree__MatchMap_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherTree__MatchMap__MapEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__Matcher__MatcherTree__MatchMap__MapEntry_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__Matcher__MatcherTree__MatchMap__MapEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__MatchPredicate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__MatchPredicate_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__MatchPredicate_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__MatchPredicate__MatchSet_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__MatchPredicate__MatchSet_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__MatchPredicate__MatchSet_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__HttpHeadersMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__HttpHeadersMatch_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__HttpHeadersMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__HttpGenericBodyMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__HttpGenericBodyMatch_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__HttpGenericBodyMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__common__matcher__v3__HttpGenericBodyMatch__GenericTextMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__common__matcher__v3__HttpGenericBodyMatch__GenericTextMatch_msg_init;
 extern const upb_MiniTable* envoy__config__common__matcher__v3__HttpGenericBodyMatch__GenericTextMatch_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_common_matcher_v3_matcher_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/address.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/address.upb_minitable.h
index 589c293ff2..10789a9c83 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/address.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/address.upb_minitable.h
@@ -18,21 +18,21 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__Pipe_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Pipe_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Pipe_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__EnvoyInternalAddress_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__EnvoyInternalAddress_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__EnvoyInternalAddress_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__SocketAddress_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__SocketAddress_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__SocketAddress_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__TcpKeepalive_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__TcpKeepalive_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__TcpKeepalive_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__ExtraSourceAddress_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__ExtraSourceAddress_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__ExtraSourceAddress_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__BindConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__BindConfig_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__BindConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Address_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Address_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Address_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__CidrRange_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__CidrRange_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__CidrRange_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_address_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/backoff.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/backoff.upb_minitable.h
index 144ffb4908..ebce87fc8e 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/backoff.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/backoff.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__BackoffStrategy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__BackoffStrategy_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__BackoffStrategy_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_backoff_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/base.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/base.upb_minitable.h
index 4fa102038f..9bc9337807 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/base.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/base.upb_minitable.h
@@ -18,63 +18,63 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__Locality_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Locality_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Locality_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__BuildVersion_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__BuildVersion_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__BuildVersion_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Extension_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Extension_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Extension_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Node_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Node_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Node_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Node__DynamicParametersEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Node__DynamicParametersEntry_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Node__DynamicParametersEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Metadata_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Metadata_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Metadata_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Metadata__FilterMetadataEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Metadata__FilterMetadataEntry_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Metadata__FilterMetadataEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Metadata__TypedFilterMetadataEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Metadata__TypedFilterMetadataEntry_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Metadata__TypedFilterMetadataEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RuntimeUInt32_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RuntimeUInt32_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RuntimeUInt32_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RuntimePercent_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RuntimePercent_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RuntimePercent_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RuntimeDouble_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RuntimeDouble_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RuntimeDouble_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RuntimeFeatureFlag_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RuntimeFeatureFlag_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RuntimeFeatureFlag_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__KeyValue_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__KeyValue_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__KeyValue_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__KeyValueAppend_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__KeyValueAppend_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__KeyValueAppend_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__KeyValueMutation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__KeyValueMutation_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__KeyValueMutation_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__QueryParameter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__QueryParameter_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__QueryParameter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HeaderValue_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HeaderValue_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HeaderValue_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HeaderValueOption_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HeaderValueOption_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HeaderValueOption_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HeaderMap_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HeaderMap_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HeaderMap_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__WatchedDirectory_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__WatchedDirectory_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__WatchedDirectory_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__DataSource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__DataSource_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__DataSource_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RetryPolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RetryPolicy_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RetryPolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RetryPolicy__RetryPriority_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RetryPolicy__RetryPriority_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RetryPolicy__RetryPriority_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RetryPolicy__RetryHostPredicate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RetryPolicy__RetryHostPredicate_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RetryPolicy__RetryHostPredicate_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RemoteDataSource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RemoteDataSource_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RemoteDataSource_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__AsyncDataSource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__AsyncDataSource_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__AsyncDataSource_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__TransportSocket_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__TransportSocket_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__TransportSocket_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RuntimeFractionalPercent_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RuntimeFractionalPercent_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RuntimeFractionalPercent_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__ControlPlane_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__ControlPlane_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__ControlPlane_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_base_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/config_source.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/config_source.upb_minitable.h
index 4683a3aa3a..348ee76024 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/config_source.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/config_source.upb_minitable.h
@@ -18,19 +18,19 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__ApiConfigSource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__ApiConfigSource_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__ApiConfigSource_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__AggregatedConfigSource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__AggregatedConfigSource_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__AggregatedConfigSource_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__SelfConfigSource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__SelfConfigSource_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__SelfConfigSource_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__RateLimitSettings_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__RateLimitSettings_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__RateLimitSettings_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__PathConfigSource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__PathConfigSource_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__PathConfigSource_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__ConfigSource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__ConfigSource_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__ConfigSource_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__ExtensionConfigSource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__ExtensionConfigSource_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__ExtensionConfigSource_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_config_source_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/event_service_config.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/event_service_config.upb_minitable.h
index d871cce278..44b1787245 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/event_service_config.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/event_service_config.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__EventServiceConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__EventServiceConfig_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__EventServiceConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_event_service_config_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/extension.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/extension.upb_minitable.h
index 4865fd6203..76ba865cc5 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/extension.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/extension.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__TypedExtensionConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__TypedExtensionConfig_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__TypedExtensionConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_extension_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/grpc_method_list.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/grpc_method_list.upb_minitable.h
index 304286dc5c..30bd92c73f 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/grpc_method_list.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/grpc_method_list.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__GrpcMethodList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcMethodList_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcMethodList_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcMethodList__Service_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcMethodList__Service_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcMethodList__Service_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_grpc_method_list_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/grpc_service.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/grpc_service.upb_minitable.h
index 95d2c3f77a..4b7685b913 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/grpc_service.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/grpc_service.upb_minitable.h
@@ -18,33 +18,33 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__GrpcService_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__EnvoyGrpc_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__EnvoyGrpc_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__EnvoyGrpc_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__SslCredentials_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__SslCredentials_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__SslCredentials_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__GoogleLocalCredentials_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__GoogleLocalCredentials_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__GoogleLocalCredentials_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelCredentials_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelCredentials_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelCredentials_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__ServiceAccountJWTAccessCredentials_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__ServiceAccountJWTAccessCredentials_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__ServiceAccountJWTAccessCredentials_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__GoogleIAMCredentials_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__GoogleIAMCredentials_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__GoogleIAMCredentials_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__MetadataCredentialsFromPlugin_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__MetadataCredentialsFromPlugin_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__MetadataCredentialsFromPlugin_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__StsService_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__StsService_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__CallCredentials__StsService_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelArgs_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelArgs_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelArgs_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelArgs__Value_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelArgs__Value_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelArgs__Value_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelArgs__ArgsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelArgs__ArgsEntry_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcService__GoogleGrpc__ChannelArgs__ArgsEntry_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_grpc_service_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/health_check.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/health_check.upb_minitable.h
index 60037e1924..e4c87f001b 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/health_check.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/health_check.upb_minitable.h
@@ -18,23 +18,23 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__HealthStatusSet_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HealthStatusSet_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HealthStatusSet_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HealthCheck_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HealthCheck_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HealthCheck_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HealthCheck__Payload_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HealthCheck__Payload_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HealthCheck__Payload_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HealthCheck__HttpHealthCheck_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HealthCheck__HttpHealthCheck_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HealthCheck__HttpHealthCheck_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HealthCheck__TcpHealthCheck_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HealthCheck__TcpHealthCheck_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HealthCheck__TcpHealthCheck_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HealthCheck__RedisHealthCheck_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HealthCheck__RedisHealthCheck_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HealthCheck__RedisHealthCheck_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HealthCheck__GrpcHealthCheck_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HealthCheck__GrpcHealthCheck_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HealthCheck__GrpcHealthCheck_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HealthCheck__CustomHealthCheck_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HealthCheck__CustomHealthCheck_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HealthCheck__CustomHealthCheck_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HealthCheck__TlsOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HealthCheck__TlsOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HealthCheck__TlsOptions_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_health_check_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/http_service.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/http_service.upb_minitable.h
index 9848ffa5fa..b0eba26ea0 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/http_service.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/http_service.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__HttpService_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HttpService_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HttpService_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_http_service_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/http_uri.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/http_uri.upb_minitable.h
index 9ca02bad1b..c38092f58d 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/http_uri.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/http_uri.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__HttpUri_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HttpUri_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HttpUri_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_http_uri_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/protocol.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/protocol.upb_minitable.h
index 2de89c7585..b1deee4e41 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/protocol.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/protocol.upb_minitable.h
@@ -18,37 +18,37 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__TcpProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__TcpProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__TcpProtocolOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__QuicKeepAliveSettings_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__QuicKeepAliveSettings_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__QuicKeepAliveSettings_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__QuicProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__QuicProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__QuicProtocolOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__UpstreamHttpProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__UpstreamHttpProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__UpstreamHttpProtocolOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__AlternateProtocolsCacheOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__AlternateProtocolsCacheOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__AlternateProtocolsCacheOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__AlternateProtocolsCacheOptions__AlternateProtocolsCacheEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__AlternateProtocolsCacheOptions__AlternateProtocolsCacheEntry_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__AlternateProtocolsCacheOptions__AlternateProtocolsCacheEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__HttpProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__HttpProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__HttpProtocolOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Http1ProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Http1ProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Http1ProtocolOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Http1ProtocolOptions__HeaderKeyFormat_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Http1ProtocolOptions__HeaderKeyFormat_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Http1ProtocolOptions__HeaderKeyFormat_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Http1ProtocolOptions__HeaderKeyFormat__ProperCaseWords_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Http1ProtocolOptions__HeaderKeyFormat__ProperCaseWords_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Http1ProtocolOptions__HeaderKeyFormat__ProperCaseWords_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__KeepaliveSettings_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__KeepaliveSettings_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__KeepaliveSettings_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Http2ProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Http2ProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Http2ProtocolOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Http2ProtocolOptions__SettingsParameter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Http2ProtocolOptions__SettingsParameter_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Http2ProtocolOptions__SettingsParameter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__GrpcProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__GrpcProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__GrpcProtocolOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__Http3ProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__Http3ProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__Http3ProtocolOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__SchemeHeaderTransformation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__SchemeHeaderTransformation_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__SchemeHeaderTransformation_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_protocol_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/proxy_protocol.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/proxy_protocol.upb_minitable.h
index 691a3a276d..36b684d7ed 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/proxy_protocol.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/proxy_protocol.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__ProxyProtocolPassThroughTLVs_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__ProxyProtocolPassThroughTLVs_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__ProxyProtocolPassThroughTLVs_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__ProxyProtocolConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__ProxyProtocolConfig_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__ProxyProtocolConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_proxy_protocol_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/resolver.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/resolver.upb_minitable.h
index 45dc183b07..d36811742a 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/resolver.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/resolver.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__DnsResolverOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__DnsResolverOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__DnsResolverOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__DnsResolutionConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__DnsResolutionConfig_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__DnsResolutionConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_resolver_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/socket_option.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/socket_option.upb_minitable.h
index a41e250e2e..f2b3fb4305 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/socket_option.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/socket_option.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__SocketOption_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__SocketOption_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__SocketOption_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__SocketOptionsOverride_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__SocketOptionsOverride_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__SocketOptionsOverride_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_socket_option_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/substitution_format_string.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/substitution_format_string.upb_minitable.h
index 14f36ea476..17784f952e 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/substitution_format_string.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/substitution_format_string.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__JsonFormatOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__JsonFormatOptions_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__JsonFormatOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__core__v3__SubstitutionFormatString_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__SubstitutionFormatString_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__SubstitutionFormatString_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_substitution_format_string_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/core/v3/udp_socket_config.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/core/v3/udp_socket_config.upb_minitable.h
index 0a9d22805e..ca4751a9bb 100644
--- a/src/core/ext/upb-gen/envoy/config/core/v3/udp_socket_config.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/core/v3/udp_socket_config.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__core__v3__UdpSocketConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__core__v3__UdpSocketConfig_msg_init;
 extern const upb_MiniTable* envoy__config__core__v3__UdpSocketConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_core_v3_udp_socket_config_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/endpoint/v3/endpoint.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/endpoint/v3/endpoint.upb_minitable.h
index aa1a7e36e8..165acfb898 100644
--- a/src/core/ext/upb-gen/envoy/config/endpoint/v3/endpoint.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/endpoint/v3/endpoint.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__endpoint__v3__ClusterLoadAssignment_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__ClusterLoadAssignment_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__ClusterLoadAssignment_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__ClusterLoadAssignment__Policy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__ClusterLoadAssignment__Policy_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__ClusterLoadAssignment__Policy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__ClusterLoadAssignment__Policy__DropOverload_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__ClusterLoadAssignment__Policy__DropOverload_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__ClusterLoadAssignment__Policy__DropOverload_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__ClusterLoadAssignment__NamedEndpointsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__ClusterLoadAssignment__NamedEndpointsEntry_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__ClusterLoadAssignment__NamedEndpointsEntry_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_endpoint_v3_endpoint_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/endpoint/v3/endpoint_components.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/endpoint/v3/endpoint_components.upb_minitable.h
index b1df0cfea0..e09235a9f2 100644
--- a/src/core/ext/upb-gen/envoy/config/endpoint/v3/endpoint_components.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/endpoint/v3/endpoint_components.upb_minitable.h
@@ -18,19 +18,19 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__endpoint__v3__Endpoint_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__Endpoint_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__Endpoint_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__Endpoint__HealthCheckConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__Endpoint__HealthCheckConfig_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__Endpoint__HealthCheckConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__Endpoint__AdditionalAddress_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__Endpoint__AdditionalAddress_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__Endpoint__AdditionalAddress_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__LbEndpoint_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__LbEndpoint_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__LbEndpoint_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__LedsClusterLocalityConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__LedsClusterLocalityConfig_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__LedsClusterLocalityConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__LocalityLbEndpoints_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__LocalityLbEndpoints_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__LocalityLbEndpoints_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__LocalityLbEndpoints__LbEndpointList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__LocalityLbEndpoints__LbEndpointList_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__LocalityLbEndpoints__LbEndpointList_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_endpoint_v3_endpoint_components_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/endpoint/v3/load_report.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/endpoint/v3/load_report.upb_minitable.h
index 68d4c6caaa..eff1ed67e0 100644
--- a/src/core/ext/upb-gen/envoy/config/endpoint/v3/load_report.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/endpoint/v3/load_report.upb_minitable.h
@@ -18,17 +18,17 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__endpoint__v3__UpstreamLocalityStats_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__UpstreamLocalityStats_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__UpstreamLocalityStats_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__UpstreamEndpointStats_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__UpstreamEndpointStats_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__UpstreamEndpointStats_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__EndpointLoadMetricStats_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__EndpointLoadMetricStats_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__EndpointLoadMetricStats_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__UnnamedEndpointLoadMetricStats_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__UnnamedEndpointLoadMetricStats_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__UnnamedEndpointLoadMetricStats_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__ClusterStats_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__ClusterStats_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__ClusterStats_msg_init_ptr;
-extern const upb_MiniTable envoy__config__endpoint__v3__ClusterStats__DroppedRequests_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__endpoint__v3__ClusterStats__DroppedRequests_msg_init;
 extern const upb_MiniTable* envoy__config__endpoint__v3__ClusterStats__DroppedRequests_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_endpoint_v3_load_report_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/listener/v3/api_listener.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/listener/v3/api_listener.upb_minitable.h
index c53c45ce4f..018a21d5f6 100644
--- a/src/core/ext/upb-gen/envoy/config/listener/v3/api_listener.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/listener/v3/api_listener.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__listener__v3__ApiListener_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__ApiListener_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__ApiListener_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_listener_v3_api_listener_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/listener/v3/listener.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/listener/v3/listener.upb_minitable.h
index dd21194775..d229218723 100644
--- a/src/core/ext/upb-gen/envoy/config/listener/v3/listener.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/listener/v3/listener.upb_minitable.h
@@ -18,25 +18,25 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__listener__v3__AdditionalAddress_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__AdditionalAddress_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__AdditionalAddress_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__ListenerCollection_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__ListenerCollection_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__ListenerCollection_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__Listener_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__Listener_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__Listener_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__Listener__DeprecatedV1_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__Listener__DeprecatedV1_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__Listener__DeprecatedV1_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__Listener__ConnectionBalanceConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__Listener__ConnectionBalanceConfig_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__Listener__ConnectionBalanceConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__Listener__ConnectionBalanceConfig__ExactBalance_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__Listener__ConnectionBalanceConfig__ExactBalance_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__Listener__ConnectionBalanceConfig__ExactBalance_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__Listener__InternalListenerConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__Listener__InternalListenerConfig_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__Listener__InternalListenerConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__ListenerManager_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__ListenerManager_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__ListenerManager_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__ValidationListenerManager_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__ValidationListenerManager_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__ValidationListenerManager_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__ApiListenerManager_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__ApiListenerManager_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__ApiListenerManager_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_listener_v3_listener_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/listener/v3/listener_components.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/listener/v3/listener_components.upb_minitable.h
index 581cde3b52..9b144c5584 100644
--- a/src/core/ext/upb-gen/envoy/config/listener/v3/listener_components.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/listener/v3/listener_components.upb_minitable.h
@@ -18,19 +18,19 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__listener__v3__Filter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__Filter_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__Filter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__FilterChainMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__FilterChainMatch_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__FilterChainMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__FilterChain_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__FilterChain_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__FilterChain_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__FilterChain__OnDemandConfiguration_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__FilterChain__OnDemandConfiguration_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__FilterChain__OnDemandConfiguration_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__ListenerFilterChainMatchPredicate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__ListenerFilterChainMatchPredicate_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__ListenerFilterChainMatchPredicate_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__ListenerFilterChainMatchPredicate__MatchSet_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__ListenerFilterChainMatchPredicate__MatchSet_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__ListenerFilterChainMatchPredicate__MatchSet_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__ListenerFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__ListenerFilter_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__ListenerFilter_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_listener_v3_listener_components_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/listener/v3/quic_config.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/listener/v3/quic_config.upb_minitable.h
index bd788c2b64..70e10ae7e1 100644
--- a/src/core/ext/upb-gen/envoy/config/listener/v3/quic_config.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/listener/v3/quic_config.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__listener__v3__QuicProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__QuicProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__QuicProtocolOptions_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_listener_v3_quic_config_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/listener/v3/udp_listener_config.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/listener/v3/udp_listener_config.upb_minitable.h
index 0cb4fc7f86..ebf4e62b73 100644
--- a/src/core/ext/upb-gen/envoy/config/listener/v3/udp_listener_config.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/listener/v3/udp_listener_config.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__listener__v3__UdpListenerConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__UdpListenerConfig_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__UdpListenerConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__listener__v3__ActiveRawUdpListenerConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__listener__v3__ActiveRawUdpListenerConfig_msg_init;
 extern const upb_MiniTable* envoy__config__listener__v3__ActiveRawUdpListenerConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_listener_v3_udp_listener_config_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/metrics/v3/metrics_service.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/metrics/v3/metrics_service.upb_minitable.h
index 4fbc721a7b..0f6e88231a 100644
--- a/src/core/ext/upb-gen/envoy/config/metrics/v3/metrics_service.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/metrics/v3/metrics_service.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__metrics__v3__MetricsServiceConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__metrics__v3__MetricsServiceConfig_msg_init;
 extern const upb_MiniTable* envoy__config__metrics__v3__MetricsServiceConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_metrics_v3_metrics_service_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/metrics/v3/stats.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/metrics/v3/stats.upb_minitable.h
index 5ebc8d7914..ce2db26506 100644
--- a/src/core/ext/upb-gen/envoy/config/metrics/v3/stats.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/metrics/v3/stats.upb_minitable.h
@@ -18,21 +18,21 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__metrics__v3__StatsSink_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__metrics__v3__StatsSink_msg_init;
 extern const upb_MiniTable* envoy__config__metrics__v3__StatsSink_msg_init_ptr;
-extern const upb_MiniTable envoy__config__metrics__v3__StatsConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__metrics__v3__StatsConfig_msg_init;
 extern const upb_MiniTable* envoy__config__metrics__v3__StatsConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__metrics__v3__StatsMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__metrics__v3__StatsMatcher_msg_init;
 extern const upb_MiniTable* envoy__config__metrics__v3__StatsMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__config__metrics__v3__TagSpecifier_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__metrics__v3__TagSpecifier_msg_init;
 extern const upb_MiniTable* envoy__config__metrics__v3__TagSpecifier_msg_init_ptr;
-extern const upb_MiniTable envoy__config__metrics__v3__HistogramBucketSettings_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__metrics__v3__HistogramBucketSettings_msg_init;
 extern const upb_MiniTable* envoy__config__metrics__v3__HistogramBucketSettings_msg_init_ptr;
-extern const upb_MiniTable envoy__config__metrics__v3__StatsdSink_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__metrics__v3__StatsdSink_msg_init;
 extern const upb_MiniTable* envoy__config__metrics__v3__StatsdSink_msg_init_ptr;
-extern const upb_MiniTable envoy__config__metrics__v3__DogStatsdSink_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__metrics__v3__DogStatsdSink_msg_init;
 extern const upb_MiniTable* envoy__config__metrics__v3__DogStatsdSink_msg_init_ptr;
-extern const upb_MiniTable envoy__config__metrics__v3__HystrixSink_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__metrics__v3__HystrixSink_msg_init;
 extern const upb_MiniTable* envoy__config__metrics__v3__HystrixSink_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_metrics_v3_stats_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/overload/v3/overload.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/overload/v3/overload.upb_minitable.h
index f6a5dcb55b..94b2f3e1e3 100644
--- a/src/core/ext/upb-gen/envoy/config/overload/v3/overload.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/overload/v3/overload.upb_minitable.h
@@ -18,25 +18,25 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__overload__v3__ResourceMonitor_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__ResourceMonitor_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__ResourceMonitor_msg_init_ptr;
-extern const upb_MiniTable envoy__config__overload__v3__ThresholdTrigger_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__ThresholdTrigger_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__ThresholdTrigger_msg_init_ptr;
-extern const upb_MiniTable envoy__config__overload__v3__ScaledTrigger_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__ScaledTrigger_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__ScaledTrigger_msg_init_ptr;
-extern const upb_MiniTable envoy__config__overload__v3__Trigger_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__Trigger_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__Trigger_msg_init_ptr;
-extern const upb_MiniTable envoy__config__overload__v3__ScaleTimersOverloadActionConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__ScaleTimersOverloadActionConfig_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__ScaleTimersOverloadActionConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__overload__v3__ScaleTimersOverloadActionConfig__ScaleTimer_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__ScaleTimersOverloadActionConfig__ScaleTimer_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__ScaleTimersOverloadActionConfig__ScaleTimer_msg_init_ptr;
-extern const upb_MiniTable envoy__config__overload__v3__OverloadAction_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__OverloadAction_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__OverloadAction_msg_init_ptr;
-extern const upb_MiniTable envoy__config__overload__v3__LoadShedPoint_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__LoadShedPoint_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__LoadShedPoint_msg_init_ptr;
-extern const upb_MiniTable envoy__config__overload__v3__BufferFactoryConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__BufferFactoryConfig_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__BufferFactoryConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__overload__v3__OverloadManager_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__overload__v3__OverloadManager_msg_init;
 extern const upb_MiniTable* envoy__config__overload__v3__OverloadManager_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_overload_v3_overload_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/rbac/v3/rbac.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/rbac/v3/rbac.upb_minitable.h
index dbb797c5fa..eaaf60c0d6 100644
--- a/src/core/ext/upb-gen/envoy/config/rbac/v3/rbac.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/rbac/v3/rbac.upb_minitable.h
@@ -18,27 +18,27 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__rbac__v3__RBAC_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__RBAC_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__RBAC_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__RBAC__AuditLoggingOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__RBAC__AuditLoggingOptions_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__RBAC__AuditLoggingOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__RBAC__AuditLoggingOptions__AuditLoggerConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__RBAC__AuditLoggingOptions__AuditLoggerConfig_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__RBAC__AuditLoggingOptions__AuditLoggerConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__RBAC__PoliciesEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__RBAC__PoliciesEntry_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__RBAC__PoliciesEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__Policy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__Policy_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__Policy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__Permission_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__Permission_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__Permission_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__Permission__Set_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__Permission__Set_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__Permission__Set_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__Principal_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__Principal_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__Principal_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__Principal__Set_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__Principal__Set_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__Principal__Set_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__Principal__Authenticated_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__Principal__Authenticated_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__Principal__Authenticated_msg_init_ptr;
-extern const upb_MiniTable envoy__config__rbac__v3__Action_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__rbac__v3__Action_msg_init;
 extern const upb_MiniTable* envoy__config__rbac__v3__Action_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_rbac_v3_rbac_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/route/v3/route.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/route/v3/route.upb_minitable.h
index bf5b5620ec..4af6b609eb 100644
--- a/src/core/ext/upb-gen/envoy/config/route/v3/route.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/route/v3/route.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__route__v3__RouteConfiguration_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteConfiguration_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteConfiguration_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteConfiguration__TypedPerFilterConfigEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteConfiguration__TypedPerFilterConfigEntry_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteConfiguration__TypedPerFilterConfigEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__Vhds_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__Vhds_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__Vhds_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_route_v3_route_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/route/v3/route_components.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/route/v3/route_components.upb_minitable.h
index 5a7c22a6fb..f1f5cbd284 100644
--- a/src/core/ext/upb-gen/envoy/config/route/v3/route_components.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/route/v3/route_components.upb_minitable.h
@@ -18,121 +18,121 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__route__v3__VirtualHost_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__VirtualHost_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__VirtualHost_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__VirtualHost__TypedPerFilterConfigEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__VirtualHost__TypedPerFilterConfigEntry_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__VirtualHost__TypedPerFilterConfigEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__FilterAction_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__FilterAction_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__FilterAction_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteList_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteList_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__Route_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__Route_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__Route_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__Route__TypedPerFilterConfigEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__Route__TypedPerFilterConfigEntry_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__Route__TypedPerFilterConfigEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__WeightedCluster_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__WeightedCluster_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__WeightedCluster_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__WeightedCluster__ClusterWeight_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__WeightedCluster__ClusterWeight_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__WeightedCluster__ClusterWeight_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__WeightedCluster__ClusterWeight__TypedPerFilterConfigEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__WeightedCluster__ClusterWeight__TypedPerFilterConfigEntry_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__WeightedCluster__ClusterWeight__TypedPerFilterConfigEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__ClusterSpecifierPlugin_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__ClusterSpecifierPlugin_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__ClusterSpecifierPlugin_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteMatch_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteMatch__GrpcRouteMatchOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteMatch__GrpcRouteMatchOptions_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteMatch__GrpcRouteMatchOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteMatch__TlsContextMatchOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteMatch__TlsContextMatchOptions_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteMatch__TlsContextMatchOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteMatch__ConnectMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteMatch__ConnectMatcher_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteMatch__ConnectMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__CorsPolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__CorsPolicy_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__CorsPolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__RequestMirrorPolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__RequestMirrorPolicy_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__RequestMirrorPolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__HashPolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__Header_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__Header_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__HashPolicy__Header_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__CookieAttribute_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__CookieAttribute_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__HashPolicy__CookieAttribute_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__Cookie_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__Cookie_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__HashPolicy__Cookie_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__ConnectionProperties_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__ConnectionProperties_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__HashPolicy__ConnectionProperties_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__QueryParameter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__QueryParameter_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__HashPolicy__QueryParameter_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__FilterState_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__HashPolicy__FilterState_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__HashPolicy__FilterState_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__UpgradeConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__UpgradeConfig_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__UpgradeConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__UpgradeConfig__ConnectConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__UpgradeConfig__ConnectConfig_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__UpgradeConfig__ConnectConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RouteAction__MaxStreamDuration_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RouteAction__MaxStreamDuration_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RouteAction__MaxStreamDuration_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RetryPolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RetryPolicy_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RetryPolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__RetryPriority_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__RetryPriority_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RetryPolicy__RetryPriority_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__RetryHostPredicate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__RetryHostPredicate_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RetryPolicy__RetryHostPredicate_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__RetryBackOff_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__RetryBackOff_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RetryPolicy__RetryBackOff_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__ResetHeader_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__ResetHeader_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RetryPolicy__ResetHeader_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__RateLimitedRetryBackOff_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RetryPolicy__RateLimitedRetryBackOff_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RetryPolicy__RateLimitedRetryBackOff_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__HedgePolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__HedgePolicy_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__HedgePolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RedirectAction_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RedirectAction_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RedirectAction_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__DirectResponseAction_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__DirectResponseAction_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__DirectResponseAction_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__NonForwardingAction_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__NonForwardingAction_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__NonForwardingAction_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__Decorator_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__Decorator_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__Decorator_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__Tracing_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__Tracing_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__Tracing_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__VirtualCluster_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__VirtualCluster_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__VirtualCluster_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__SourceCluster_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__SourceCluster_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__SourceCluster_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__DestinationCluster_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__DestinationCluster_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__DestinationCluster_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__RequestHeaders_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__RequestHeaders_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__RequestHeaders_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__RemoteAddress_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__RemoteAddress_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__RemoteAddress_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__MaskedRemoteAddress_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__MaskedRemoteAddress_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__MaskedRemoteAddress_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__GenericKey_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__GenericKey_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__GenericKey_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__HeaderValueMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__HeaderValueMatch_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__HeaderValueMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__DynamicMetaData_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__DynamicMetaData_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__DynamicMetaData_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__MetaData_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__MetaData_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__MetaData_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__QueryParameterValueMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Action__QueryParameterValueMatch_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Action__QueryParameterValueMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Override_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Override_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Override_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__RateLimit__Override__DynamicMetadata_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__RateLimit__Override__DynamicMetadata_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__RateLimit__Override__DynamicMetadata_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__HeaderMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__HeaderMatcher_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__HeaderMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__QueryParameterMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__QueryParameterMatcher_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__QueryParameterMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__InternalRedirectPolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__InternalRedirectPolicy_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__InternalRedirectPolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__FilterConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__FilterConfig_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__FilterConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_route_v3_route_components_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/route/v3/scoped_route.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/route/v3/scoped_route.upb_minitable.h
index 092df854c2..67f2410e3f 100644
--- a/src/core/ext/upb-gen/envoy/config/route/v3/scoped_route.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/route/v3/scoped_route.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__route__v3__ScopedRouteConfiguration_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__ScopedRouteConfiguration_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__ScopedRouteConfiguration_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__ScopedRouteConfiguration__Key_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__ScopedRouteConfiguration__Key_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__ScopedRouteConfiguration__Key_msg_init_ptr;
-extern const upb_MiniTable envoy__config__route__v3__ScopedRouteConfiguration__Key__Fragment_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__route__v3__ScopedRouteConfiguration__Key__Fragment_msg_init;
 extern const upb_MiniTable* envoy__config__route__v3__ScopedRouteConfiguration__Key__Fragment_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_route_v3_scoped_route_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/tap/v3/common.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/tap/v3/common.upb_minitable.h
index fbf2b413f5..2fe7e030a7 100644
--- a/src/core/ext/upb-gen/envoy/config/tap/v3/common.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/tap/v3/common.upb_minitable.h
@@ -18,29 +18,29 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__tap__v3__TapConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__TapConfig_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__TapConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__MatchPredicate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__MatchPredicate_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__MatchPredicate_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__MatchPredicate__MatchSet_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__MatchPredicate__MatchSet_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__MatchPredicate__MatchSet_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__HttpHeadersMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__HttpHeadersMatch_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__HttpHeadersMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__HttpGenericBodyMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__HttpGenericBodyMatch_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__HttpGenericBodyMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__HttpGenericBodyMatch__GenericTextMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__HttpGenericBodyMatch__GenericTextMatch_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__HttpGenericBodyMatch__GenericTextMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__OutputConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__OutputConfig_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__OutputConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__OutputSink_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__OutputSink_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__OutputSink_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__StreamingAdminSink_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__StreamingAdminSink_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__StreamingAdminSink_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__BufferedAdminSink_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__BufferedAdminSink_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__BufferedAdminSink_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__FilePerTapSink_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__FilePerTapSink_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__FilePerTapSink_msg_init_ptr;
-extern const upb_MiniTable envoy__config__tap__v3__StreamingGrpcSink_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__tap__v3__StreamingGrpcSink_msg_init;
 extern const upb_MiniTable* envoy__config__tap__v3__StreamingGrpcSink_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_tap_v3_common_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/datadog.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/datadog.upb_minitable.h
index cddf338a8f..d1383a87b3 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/datadog.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/datadog.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__DatadogRemoteConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__DatadogRemoteConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__DatadogRemoteConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__trace__v3__DatadogConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__DatadogConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__DatadogConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_datadog_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/dynamic_ot.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/dynamic_ot.upb_minitable.h
index 3789285f69..bef271bca0 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/dynamic_ot.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/dynamic_ot.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__DynamicOtConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__DynamicOtConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__DynamicOtConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_dynamic_ot_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/http_tracer.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/http_tracer.upb_minitable.h
index bdc7ff343f..aeb02ab3f1 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/http_tracer.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/http_tracer.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__Tracing_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__Tracing_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__Tracing_msg_init_ptr;
-extern const upb_MiniTable envoy__config__trace__v3__Tracing__Http_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__Tracing__Http_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__Tracing__Http_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_http_tracer_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/lightstep.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/lightstep.upb_minitable.h
index e706a3ff94..d5eedeccea 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/lightstep.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/lightstep.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__LightstepConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__LightstepConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__LightstepConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_lightstep_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/opencensus.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/opencensus.upb_minitable.h
index 7625c551b5..a41d0051d4 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/opencensus.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/opencensus.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__OpenCensusConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__OpenCensusConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__OpenCensusConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_opencensus_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/opentelemetry.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/opentelemetry.upb_minitable.h
index 413f066bfd..897b561dfe 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/opentelemetry.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/opentelemetry.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__OpenTelemetryConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__OpenTelemetryConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__OpenTelemetryConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_opentelemetry_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/service.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/service.upb_minitable.h
index 28e27f068d..1e55f4c203 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/service.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/service.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__TraceServiceConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__TraceServiceConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__TraceServiceConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_service_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/skywalking.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/skywalking.upb_minitable.h
index a4ef4dc4d9..111d732fec 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/skywalking.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/skywalking.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__SkyWalkingConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__SkyWalkingConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__SkyWalkingConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__trace__v3__ClientConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__ClientConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__ClientConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_skywalking_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/xray.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/xray.upb_minitable.h
index 029024b15a..3ca875583b 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/xray.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/xray.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__XRayConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__XRayConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__XRayConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__config__trace__v3__XRayConfig__SegmentFields_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__XRayConfig__SegmentFields_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__XRayConfig__SegmentFields_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_xray_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/config/trace/v3/zipkin.upb_minitable.h b/src/core/ext/upb-gen/envoy/config/trace/v3/zipkin.upb_minitable.h
index df4491dd6c..08b7324ef3 100644
--- a/src/core/ext/upb-gen/envoy/config/trace/v3/zipkin.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/config/trace/v3/zipkin.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__config__trace__v3__ZipkinConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__config__trace__v3__ZipkinConfig_msg_init;
 extern const upb_MiniTable* envoy__config__trace__v3__ZipkinConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_config_trace_v3_zipkin_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/data/accesslog/v3/accesslog.upb_minitable.h b/src/core/ext/upb-gen/envoy/data/accesslog/v3/accesslog.upb_minitable.h
index 72f952e2a5..3363eaee09 100644
--- a/src/core/ext/upb-gen/envoy/data/accesslog/v3/accesslog.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/data/accesslog/v3/accesslog.upb_minitable.h
@@ -18,37 +18,37 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__data__accesslog__v3__TCPAccessLogEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__TCPAccessLogEntry_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__TCPAccessLogEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__HTTPAccessLogEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__HTTPAccessLogEntry_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__HTTPAccessLogEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__ConnectionProperties_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__ConnectionProperties_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__ConnectionProperties_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__AccessLogCommon_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__AccessLogCommon_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__AccessLogCommon_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__AccessLogCommon__FilterStateObjectsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__AccessLogCommon__FilterStateObjectsEntry_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__AccessLogCommon__FilterStateObjectsEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__AccessLogCommon__CustomTagsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__AccessLogCommon__CustomTagsEntry_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__AccessLogCommon__CustomTagsEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__ResponseFlags_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__ResponseFlags_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__ResponseFlags_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__ResponseFlags__Unauthorized_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__ResponseFlags__Unauthorized_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__ResponseFlags__Unauthorized_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__TLSProperties_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__TLSProperties_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__TLSProperties_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__TLSProperties__CertificateProperties_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__TLSProperties__CertificateProperties_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__TLSProperties__CertificateProperties_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__TLSProperties__CertificateProperties__SubjectAltName_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__TLSProperties__CertificateProperties__SubjectAltName_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__TLSProperties__CertificateProperties__SubjectAltName_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__HTTPRequestProperties_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__HTTPRequestProperties_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__HTTPRequestProperties_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__HTTPRequestProperties__RequestHeadersEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__HTTPRequestProperties__RequestHeadersEntry_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__HTTPRequestProperties__RequestHeadersEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__HTTPResponseProperties_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__HTTPResponseProperties_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__HTTPResponseProperties_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__HTTPResponseProperties__ResponseHeadersEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__HTTPResponseProperties__ResponseHeadersEntry_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__HTTPResponseProperties__ResponseHeadersEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__data__accesslog__v3__HTTPResponseProperties__ResponseTrailersEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__data__accesslog__v3__HTTPResponseProperties__ResponseTrailersEntry_msg_init;
 extern const upb_MiniTable* envoy__data__accesslog__v3__HTTPResponseProperties__ResponseTrailersEntry_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_data_accesslog_v3_accesslog_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/clusters/aggregate/v3/cluster.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/clusters/aggregate/v3/cluster.upb_minitable.h
index 30bbabd7a1..85620cc44c 100644
--- a/src/core/ext/upb-gen/envoy/extensions/clusters/aggregate/v3/cluster.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/clusters/aggregate/v3/cluster.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__clusters__aggregate__v3__ClusterConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__clusters__aggregate__v3__ClusterConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__clusters__aggregate__v3__ClusterConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_clusters_aggregate_v3_cluster_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/filters/common/fault/v3/fault.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/filters/common/fault/v3/fault.upb_minitable.h
index df8d621bd6..0a0154d402 100644
--- a/src/core/ext/upb-gen/envoy/extensions/filters/common/fault/v3/fault.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/filters/common/fault/v3/fault.upb_minitable.h
@@ -18,15 +18,15 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultDelay_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultDelay_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__common__fault__v3__FaultDelay_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultDelay__HeaderDelay_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultDelay__HeaderDelay_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__common__fault__v3__FaultDelay__HeaderDelay_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultRateLimit_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultRateLimit_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__common__fault__v3__FaultRateLimit_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultRateLimit__FixedLimit_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultRateLimit__FixedLimit_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__common__fault__v3__FaultRateLimit__FixedLimit_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultRateLimit__HeaderLimit_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__common__fault__v3__FaultRateLimit__HeaderLimit_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__common__fault__v3__FaultRateLimit__HeaderLimit_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_filters_common_fault_v3_fault_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/filters/http/fault/v3/fault.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/filters/http/fault/v3/fault.upb_minitable.h
index fe37dae4ac..366acdede1 100644
--- a/src/core/ext/upb-gen/envoy/extensions/filters/http/fault/v3/fault.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/filters/http/fault/v3/fault.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__filters__http__fault__v3__FaultAbort_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__fault__v3__FaultAbort_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__fault__v3__FaultAbort_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__http__fault__v3__FaultAbort__HeaderAbort_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__fault__v3__FaultAbort__HeaderAbort_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__fault__v3__FaultAbort__HeaderAbort_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__http__fault__v3__HTTPFault_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__fault__v3__HTTPFault_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__fault__v3__HTTPFault_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_filters_http_fault_v3_fault_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/filters/http/gcp_authn/v3/gcp_authn.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/filters/http/gcp_authn/v3/gcp_authn.upb_minitable.h
index f357da0e81..ffd6684b27 100644
--- a/src/core/ext/upb-gen/envoy/extensions/filters/http/gcp_authn/v3/gcp_authn.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/filters/http/gcp_authn/v3/gcp_authn.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__filters__http__gcp_0authn__v3__GcpAuthnFilterConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__gcp_0authn__v3__GcpAuthnFilterConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__gcp_0authn__v3__GcpAuthnFilterConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__http__gcp_0authn__v3__Audience_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__gcp_0authn__v3__Audience_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__gcp_0authn__v3__Audience_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__http__gcp_0authn__v3__TokenCacheConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__gcp_0authn__v3__TokenCacheConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__gcp_0authn__v3__TokenCacheConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__http__gcp_0authn__v3__TokenHeader_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__gcp_0authn__v3__TokenHeader_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__gcp_0authn__v3__TokenHeader_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_filters_http_gcp_authn_v3_gcp_authn_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/filters/http/rbac/v3/rbac.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/filters/http/rbac/v3/rbac.upb_minitable.h
index cdb0423a3f..21edf7317a 100644
--- a/src/core/ext/upb-gen/envoy/extensions/filters/http/rbac/v3/rbac.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/filters/http/rbac/v3/rbac.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__filters__http__rbac__v3__RBAC_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__rbac__v3__RBAC_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__rbac__v3__RBAC_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__http__rbac__v3__RBACPerRoute_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__rbac__v3__RBACPerRoute_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__rbac__v3__RBACPerRoute_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_filters_http_rbac_v3_rbac_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/filters/http/router/v3/router.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/filters/http/router/v3/router.upb_minitable.h
index b5e4bf1e96..cc74d08534 100644
--- a/src/core/ext/upb-gen/envoy/extensions/filters/http/router/v3/router.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/filters/http/router/v3/router.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__filters__http__router__v3__Router_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__router__v3__Router_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__router__v3__Router_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__http__router__v3__Router__UpstreamAccessLogOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__router__v3__Router__UpstreamAccessLogOptions_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__router__v3__Router__UpstreamAccessLogOptions_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_filters_http_router_v3_router_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/filters/http/stateful_session/v3/stateful_session.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/filters/http/stateful_session/v3/stateful_session.upb_minitable.h
index a0538f5977..c08a85a3ab 100644
--- a/src/core/ext/upb-gen/envoy/extensions/filters/http/stateful_session/v3/stateful_session.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/filters/http/stateful_session/v3/stateful_session.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__filters__http__stateful_0session__v3__StatefulSession_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__stateful_0session__v3__StatefulSession_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__stateful_0session__v3__StatefulSession_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__http__stateful_0session__v3__StatefulSessionPerRoute_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__http__stateful_0session__v3__StatefulSessionPerRoute_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__http__stateful_0session__v3__StatefulSessionPerRoute_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_filters_http_stateful_session_v3_stateful_session_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/filters/network/http_connection_manager/v3/http_connection_manager.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/filters/network/http_connection_manager/v3/http_connection_manager.upb_minitable.h
index 5a10530c5b..9a2c0ff045 100644
--- a/src/core/ext/upb-gen/envoy/extensions/filters/network/http_connection_manager/v3/http_connection_manager.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/filters/network/http_connection_manager/v3/http_connection_manager.upb_minitable.h
@@ -18,47 +18,47 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__Tracing_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__Tracing_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__Tracing_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__InternalAddressConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__InternalAddressConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__InternalAddressConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__SetCurrentClientCertDetails_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__SetCurrentClientCertDetails_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__SetCurrentClientCertDetails_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__UpgradeConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__UpgradeConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__UpgradeConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__PathNormalizationOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__PathNormalizationOptions_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__PathNormalizationOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__ProxyStatusConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__ProxyStatusConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__ProxyStatusConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__HcmAccessLogOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__HcmAccessLogOptions_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__HttpConnectionManager__HcmAccessLogOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__LocalReplyConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__LocalReplyConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__LocalReplyConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ResponseMapper_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ResponseMapper_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__ResponseMapper_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__Rds_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__Rds_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__Rds_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRouteConfigurationsList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRouteConfigurationsList_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRouteConfigurationsList_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder__FragmentBuilder_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder__FragmentBuilder_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder__FragmentBuilder_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder__FragmentBuilder__HeaderValueExtractor_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder__FragmentBuilder__HeaderValueExtractor_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder__FragmentBuilder__HeaderValueExtractor_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder__FragmentBuilder__HeaderValueExtractor__KvElement_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder__FragmentBuilder__HeaderValueExtractor__KvElement_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRoutes__ScopeKeyBuilder__FragmentBuilder__HeaderValueExtractor__KvElement_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRds_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRds_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__ScopedRds_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpFilter_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__HttpFilter_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__HttpFilter_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__RequestIDExtension_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__RequestIDExtension_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__RequestIDExtension_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__EnvoyMobileHttpConnectionManager_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__filters__network__http_0connection_0manager__v3__EnvoyMobileHttpConnectionManager_msg_init;
 extern const upb_MiniTable* envoy__extensions__filters__network__http_0connection_0manager__v3__EnvoyMobileHttpConnectionManager_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_filters_network_http_connection_manager_v3_http_connection_manager_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/http/stateful_session/cookie/v3/cookie.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/http/stateful_session/cookie/v3/cookie.upb_minitable.h
index 31216935a4..9ee4446e3e 100644
--- a/src/core/ext/upb-gen/envoy/extensions/http/stateful_session/cookie/v3/cookie.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/http/stateful_session/cookie/v3/cookie.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__http__stateful_0session__cookie__v3__CookieBasedSessionState_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__http__stateful_0session__cookie__v3__CookieBasedSessionState_msg_init;
 extern const upb_MiniTable* envoy__extensions__http__stateful_0session__cookie__v3__CookieBasedSessionState_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_http_stateful_session_cookie_v3_cookie_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/client_side_weighted_round_robin/v3/client_side_weighted_round_robin.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/client_side_weighted_round_robin/v3/client_side_weighted_round_robin.upb_minitable.h
index 39b1b2f290..d44e684f22 100644
--- a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/client_side_weighted_round_robin/v3/client_side_weighted_round_robin.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/client_side_weighted_round_robin/v3/client_side_weighted_round_robin.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__client_0side_0weighted_0round_0robin__v3__ClientSideWeightedRoundRobin_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__client_0side_0weighted_0round_0robin__v3__ClientSideWeightedRoundRobin_msg_init;
 extern const upb_MiniTable* envoy__extensions__load_0balancing_0policies__client_0side_0weighted_0round_0robin__v3__ClientSideWeightedRoundRobin_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_load_balancing_policies_client_side_weighted_round_robin_v3_client_side_weighted_round_robin_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/common/v3/common.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/common/v3/common.upb_minitable.h
index 653b56e008..7350341766 100644
--- a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/common/v3/common.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/common/v3/common.upb_minitable.h
@@ -18,15 +18,15 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__LocalityLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__LocalityLbConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__load_0balancing_0policies__common__v3__LocalityLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__LocalityLbConfig__ZoneAwareLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__LocalityLbConfig__ZoneAwareLbConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__load_0balancing_0policies__common__v3__LocalityLbConfig__ZoneAwareLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__LocalityLbConfig__LocalityWeightedLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__LocalityLbConfig__LocalityWeightedLbConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__load_0balancing_0policies__common__v3__LocalityLbConfig__LocalityWeightedLbConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__SlowStartConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__SlowStartConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__load_0balancing_0policies__common__v3__SlowStartConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__ConsistentHashingLbConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__common__v3__ConsistentHashingLbConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__load_0balancing_0policies__common__v3__ConsistentHashingLbConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_load_balancing_policies_common_v3_common_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/pick_first/v3/pick_first.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/pick_first/v3/pick_first.upb_minitable.h
index 23dfe1c43e..93b58514f7 100644
--- a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/pick_first/v3/pick_first.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/pick_first/v3/pick_first.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__pick_0first__v3__PickFirst_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__pick_0first__v3__PickFirst_msg_init;
 extern const upb_MiniTable* envoy__extensions__load_0balancing_0policies__pick_0first__v3__PickFirst_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_load_balancing_policies_pick_first_v3_pick_first_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/ring_hash/v3/ring_hash.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/ring_hash/v3/ring_hash.upb_minitable.h
index b87050409c..0b7dd68492 100644
--- a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/ring_hash/v3/ring_hash.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/ring_hash/v3/ring_hash.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__ring_0hash__v3__RingHash_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__ring_0hash__v3__RingHash_msg_init;
 extern const upb_MiniTable* envoy__extensions__load_0balancing_0policies__ring_0hash__v3__RingHash_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_load_balancing_policies_ring_hash_v3_ring_hash_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/wrr_locality/v3/wrr_locality.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/wrr_locality/v3/wrr_locality.upb_minitable.h
index 837143920a..04297e4194 100644
--- a/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/wrr_locality/v3/wrr_locality.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/load_balancing_policies/wrr_locality/v3/wrr_locality.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__wrr_0locality__v3__WrrLocality_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__load_0balancing_0policies__wrr_0locality__v3__WrrLocality_msg_init;
 extern const upb_MiniTable* envoy__extensions__load_0balancing_0policies__wrr_0locality__v3__WrrLocality_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_load_balancing_policies_wrr_locality_v3_wrr_locality_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/http_11_proxy/v3/upstream_http_11_connect.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/http_11_proxy/v3/upstream_http_11_connect.upb_minitable.h
index 2542d99563..0c9164882e 100644
--- a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/http_11_proxy/v3/upstream_http_11_connect.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/http_11_proxy/v3/upstream_http_11_connect.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__transport_0sockets__http_011_0proxy__v3__Http11ProxyUpstreamTransport_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__http_011_0proxy__v3__Http11ProxyUpstreamTransport_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__http_011_0proxy__v3__Http11ProxyUpstreamTransport_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_transport_sockets_http_11_proxy_v3_upstream_http_11_connect_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/common.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/common.upb_minitable.h
index 7a93da32a9..98f7b9c2f6 100644
--- a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/common.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/common.upb_minitable.h
@@ -18,21 +18,21 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__TlsParameters_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__TlsParameters_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__TlsParameters_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__PrivateKeyProvider_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__PrivateKeyProvider_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__PrivateKeyProvider_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__TlsCertificate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__TlsCertificate_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__TlsCertificate_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__TlsSessionTicketKeys_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__TlsSessionTicketKeys_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__TlsSessionTicketKeys_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CertificateProviderPluginInstance_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CertificateProviderPluginInstance_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__CertificateProviderPluginInstance_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__SubjectAltNameMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__SubjectAltNameMatcher_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__SubjectAltNameMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CertificateValidationContext_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CertificateValidationContext_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__CertificateValidationContext_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CertificateValidationContext__SystemRootCerts_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CertificateValidationContext__SystemRootCerts_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__CertificateValidationContext__SystemRootCerts_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_transport_sockets_tls_v3_common_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/secret.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/secret.upb_minitable.h
index 243ec808b0..77a0046925 100644
--- a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/secret.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/secret.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__GenericSecret_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__GenericSecret_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__GenericSecret_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__SdsSecretConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__SdsSecretConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__SdsSecretConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__Secret_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__Secret_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__Secret_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_transport_sockets_tls_v3_secret_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/tls.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/tls.upb_minitable.h
index e6a4a54882..bd3bdfaa09 100644
--- a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/tls.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/tls.upb_minitable.h
@@ -18,19 +18,19 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__UpstreamTlsContext_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__UpstreamTlsContext_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__UpstreamTlsContext_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__DownstreamTlsContext_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__DownstreamTlsContext_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__DownstreamTlsContext_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__TlsKeyLog_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__TlsKeyLog_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__TlsKeyLog_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext__CertificateProvider_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext__CertificateProvider_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext__CertificateProvider_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext__CertificateProviderInstance_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext__CertificateProviderInstance_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext__CertificateProviderInstance_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext__CombinedCertificateValidationContext_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext__CombinedCertificateValidationContext_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__CommonTlsContext__CombinedCertificateValidationContext_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_transport_sockets_tls_v3_tls_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/tls_spiffe_validator_config.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/tls_spiffe_validator_config.upb_minitable.h
index ca463e6cde..cd2ad7d76f 100644
--- a/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/tls_spiffe_validator_config.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/transport_sockets/tls/v3/tls_spiffe_validator_config.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__SPIFFECertValidatorConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__SPIFFECertValidatorConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__SPIFFECertValidatorConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__SPIFFECertValidatorConfig__TrustDomain_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__transport_0sockets__tls__v3__SPIFFECertValidatorConfig__TrustDomain_msg_init;
 extern const upb_MiniTable* envoy__extensions__transport_0sockets__tls__v3__SPIFFECertValidatorConfig__TrustDomain_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_transport_sockets_tls_v3_tls_spiffe_validator_config_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/extensions/upstreams/http/v3/http_protocol_options.upb_minitable.h b/src/core/ext/upb-gen/envoy/extensions/upstreams/http/v3/http_protocol_options.upb_minitable.h
index 0b595e844c..2304ba19af 100644
--- a/src/core/ext/upb-gen/envoy/extensions/upstreams/http/v3/http_protocol_options.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/extensions/upstreams/http/v3/http_protocol_options.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__extensions__upstreams__http__v3__HttpProtocolOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__upstreams__http__v3__HttpProtocolOptions_msg_init;
 extern const upb_MiniTable* envoy__extensions__upstreams__http__v3__HttpProtocolOptions_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__upstreams__http__v3__HttpProtocolOptions__ExplicitHttpConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__upstreams__http__v3__HttpProtocolOptions__ExplicitHttpConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__upstreams__http__v3__HttpProtocolOptions__ExplicitHttpConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__upstreams__http__v3__HttpProtocolOptions__UseDownstreamHttpConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__upstreams__http__v3__HttpProtocolOptions__UseDownstreamHttpConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__upstreams__http__v3__HttpProtocolOptions__UseDownstreamHttpConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__extensions__upstreams__http__v3__HttpProtocolOptions__AutoHttpConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__extensions__upstreams__http__v3__HttpProtocolOptions__AutoHttpConfig_msg_init;
 extern const upb_MiniTable* envoy__extensions__upstreams__http__v3__HttpProtocolOptions__AutoHttpConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_extensions_upstreams_http_v3_http_protocol_options_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/service/discovery/v3/ads.upb_minitable.h b/src/core/ext/upb-gen/envoy/service/discovery/v3/ads.upb_minitable.h
index a44f9d71cd..adf79553dc 100644
--- a/src/core/ext/upb-gen/envoy/service/discovery/v3/ads.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/service/discovery/v3/ads.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__service__discovery__v3__AdsDummy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__AdsDummy_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__AdsDummy_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_service_discovery_v3_ads_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/service/discovery/v3/discovery.upb_minitable.h b/src/core/ext/upb-gen/envoy/service/discovery/v3/discovery.upb_minitable.h
index 6f02a36593..03bf0fb785 100644
--- a/src/core/ext/upb-gen/envoy/service/discovery/v3/discovery.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/service/discovery/v3/discovery.upb_minitable.h
@@ -18,33 +18,33 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__service__discovery__v3__ResourceLocator_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__ResourceLocator_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__ResourceLocator_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__ResourceLocator__DynamicParametersEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__ResourceLocator__DynamicParametersEntry_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__ResourceLocator__DynamicParametersEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__ResourceName_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__ResourceName_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__ResourceName_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__DiscoveryRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__DiscoveryRequest_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__DiscoveryRequest_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__DiscoveryResponse_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__DiscoveryResponse_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__DiscoveryResponse_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__DeltaDiscoveryRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__DeltaDiscoveryRequest_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__DeltaDiscoveryRequest_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__DeltaDiscoveryRequest__InitialResourceVersionsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__DeltaDiscoveryRequest__InitialResourceVersionsEntry_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__DeltaDiscoveryRequest__InitialResourceVersionsEntry_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__DeltaDiscoveryResponse_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__DeltaDiscoveryResponse_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__DeltaDiscoveryResponse_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__DynamicParameterConstraints_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__DynamicParameterConstraints_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__DynamicParameterConstraints_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__DynamicParameterConstraints__SingleConstraint_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__DynamicParameterConstraints__SingleConstraint_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__DynamicParameterConstraints__SingleConstraint_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__DynamicParameterConstraints__SingleConstraint__Exists_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__DynamicParameterConstraints__SingleConstraint__Exists_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__DynamicParameterConstraints__SingleConstraint__Exists_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__DynamicParameterConstraints__ConstraintList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__DynamicParameterConstraints__ConstraintList_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__DynamicParameterConstraints__ConstraintList_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__Resource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__Resource_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__Resource_msg_init_ptr;
-extern const upb_MiniTable envoy__service__discovery__v3__Resource__CacheControl_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__discovery__v3__Resource__CacheControl_msg_init;
 extern const upb_MiniTable* envoy__service__discovery__v3__Resource__CacheControl_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_service_discovery_v3_discovery_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/service/load_stats/v3/lrs.upb_minitable.h b/src/core/ext/upb-gen/envoy/service/load_stats/v3/lrs.upb_minitable.h
index 4c348ad5bb..454368c101 100644
--- a/src/core/ext/upb-gen/envoy/service/load_stats/v3/lrs.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/service/load_stats/v3/lrs.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__service__load_0stats__v3__LoadStatsRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__load_0stats__v3__LoadStatsRequest_msg_init;
 extern const upb_MiniTable* envoy__service__load_0stats__v3__LoadStatsRequest_msg_init_ptr;
-extern const upb_MiniTable envoy__service__load_0stats__v3__LoadStatsResponse_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__load_0stats__v3__LoadStatsResponse_msg_init;
 extern const upb_MiniTable* envoy__service__load_0stats__v3__LoadStatsResponse_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_service_load_stats_v3_lrs_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/service/status/v3/csds.upb_minitable.h b/src/core/ext/upb-gen/envoy/service/status/v3/csds.upb_minitable.h
index 295aa79282..a28777fd62 100644
--- a/src/core/ext/upb-gen/envoy/service/status/v3/csds.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/service/status/v3/csds.upb_minitable.h
@@ -18,15 +18,15 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__service__status__v3__ClientStatusRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__status__v3__ClientStatusRequest_msg_init;
 extern const upb_MiniTable* envoy__service__status__v3__ClientStatusRequest_msg_init_ptr;
-extern const upb_MiniTable envoy__service__status__v3__PerXdsConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__status__v3__PerXdsConfig_msg_init;
 extern const upb_MiniTable* envoy__service__status__v3__PerXdsConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__service__status__v3__ClientConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__status__v3__ClientConfig_msg_init;
 extern const upb_MiniTable* envoy__service__status__v3__ClientConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__service__status__v3__ClientConfig__GenericXdsConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__status__v3__ClientConfig__GenericXdsConfig_msg_init;
 extern const upb_MiniTable* envoy__service__status__v3__ClientConfig__GenericXdsConfig_msg_init_ptr;
-extern const upb_MiniTable envoy__service__status__v3__ClientStatusResponse_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__service__status__v3__ClientStatusResponse_msg_init;
 extern const upb_MiniTable* envoy__service__status__v3__ClientStatusResponse_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_service_status_v3_csds_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/http/v3/cookie.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/http/v3/cookie.upb_minitable.h
index 9967d424fa..9c254e838b 100644
--- a/src/core/ext/upb-gen/envoy/type/http/v3/cookie.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/http/v3/cookie.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__http__v3__Cookie_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__http__v3__Cookie_msg_init;
 extern const upb_MiniTable* envoy__type__http__v3__Cookie_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_http_v3_cookie_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/http/v3/path_transformation.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/http/v3/path_transformation.upb_minitable.h
index bfbecd7fc5..e98b4cdcd7 100644
--- a/src/core/ext/upb-gen/envoy/type/http/v3/path_transformation.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/http/v3/path_transformation.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__http__v3__PathTransformation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__http__v3__PathTransformation_msg_init;
 extern const upb_MiniTable* envoy__type__http__v3__PathTransformation_msg_init_ptr;
-extern const upb_MiniTable envoy__type__http__v3__PathTransformation__Operation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__http__v3__PathTransformation__Operation_msg_init;
 extern const upb_MiniTable* envoy__type__http__v3__PathTransformation__Operation_msg_init_ptr;
-extern const upb_MiniTable envoy__type__http__v3__PathTransformation__Operation__NormalizePathRFC3986_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__http__v3__PathTransformation__Operation__NormalizePathRFC3986_msg_init;
 extern const upb_MiniTable* envoy__type__http__v3__PathTransformation__Operation__NormalizePathRFC3986_msg_init_ptr;
-extern const upb_MiniTable envoy__type__http__v3__PathTransformation__Operation__MergeSlashes_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__http__v3__PathTransformation__Operation__MergeSlashes_msg_init;
 extern const upb_MiniTable* envoy__type__http__v3__PathTransformation__Operation__MergeSlashes_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_http_v3_path_transformation_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/filter_state.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/filter_state.upb_minitable.h
index 41b739f725..aa1e62d846 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/filter_state.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/filter_state.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__FilterStateMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__FilterStateMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__FilterStateMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_filter_state_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/http_inputs.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/http_inputs.upb_minitable.h
index 4f2fb8b8b2..5bbc37224d 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/http_inputs.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/http_inputs.upb_minitable.h
@@ -18,15 +18,15 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__HttpRequestHeaderMatchInput_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__HttpRequestHeaderMatchInput_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__HttpRequestHeaderMatchInput_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__HttpRequestTrailerMatchInput_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__HttpRequestTrailerMatchInput_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__HttpRequestTrailerMatchInput_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__HttpResponseHeaderMatchInput_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__HttpResponseHeaderMatchInput_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__HttpResponseHeaderMatchInput_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__HttpResponseTrailerMatchInput_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__HttpResponseTrailerMatchInput_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__HttpResponseTrailerMatchInput_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__HttpRequestQueryParamMatchInput_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__HttpRequestQueryParamMatchInput_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__HttpRequestQueryParamMatchInput_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_http_inputs_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/metadata.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/metadata.upb_minitable.h
index 1a6e95dfa0..148c80c558 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/metadata.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/metadata.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__MetadataMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__MetadataMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__MetadataMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__MetadataMatcher__PathSegment_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__MetadataMatcher__PathSegment_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__MetadataMatcher__PathSegment_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_metadata_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/node.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/node.upb_minitable.h
index a78af843e2..0919ba6be9 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/node.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/node.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__NodeMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__NodeMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__NodeMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_node_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/number.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/number.upb_minitable.h
index 9beadb3352..aab2990377 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/number.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/number.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__DoubleMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__DoubleMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__DoubleMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_number_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/path.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/path.upb_minitable.h
index 2af9a3a7de..9290fc5b11 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/path.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/path.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__PathMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__PathMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__PathMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_path_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/regex.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/regex.upb_minitable.h
index 74dc218ed5..8ef192cba0 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/regex.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/regex.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__RegexMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__RegexMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__RegexMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__RegexMatcher__GoogleRE2_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__RegexMatcher__GoogleRE2_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__RegexMatcher__GoogleRE2_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__RegexMatchAndSubstitute_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__RegexMatchAndSubstitute_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__RegexMatchAndSubstitute_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_regex_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/status_code_input.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/status_code_input.upb_minitable.h
index bf7fafb5a1..b57d93aa5b 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/status_code_input.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/status_code_input.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__HttpResponseStatusCodeMatchInput_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__HttpResponseStatusCodeMatchInput_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__HttpResponseStatusCodeMatchInput_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__HttpResponseStatusCodeClassMatchInput_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__HttpResponseStatusCodeClassMatchInput_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__HttpResponseStatusCodeClassMatchInput_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_status_code_input_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/string.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/string.upb_minitable.h
index 0662b98e54..ec06dfb175 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/string.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/string.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__StringMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__StringMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__StringMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__ListStringMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__ListStringMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__ListStringMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_string_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/struct.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/struct.upb_minitable.h
index fad11d86c9..abd2722c9f 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/struct.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/struct.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__StructMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__StructMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__StructMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__StructMatcher__PathSegment_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__StructMatcher__PathSegment_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__StructMatcher__PathSegment_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_struct_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/matcher/v3/value.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/matcher/v3/value.upb_minitable.h
index 275d3b182d..9ff5213e91 100644
--- a/src/core/ext/upb-gen/envoy/type/matcher/v3/value.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/matcher/v3/value.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__matcher__v3__ValueMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__ValueMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__ValueMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__ValueMatcher__NullMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__ValueMatcher__NullMatch_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__ValueMatcher__NullMatch_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__ListMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__ListMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__ListMatcher_msg_init_ptr;
-extern const upb_MiniTable envoy__type__matcher__v3__OrMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__matcher__v3__OrMatcher_msg_init;
 extern const upb_MiniTable* envoy__type__matcher__v3__OrMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_matcher_v3_value_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/metadata/v3/metadata.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/metadata/v3/metadata.upb_minitable.h
index cae6700d06..db3f3bbd51 100644
--- a/src/core/ext/upb-gen/envoy/type/metadata/v3/metadata.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/metadata/v3/metadata.upb_minitable.h
@@ -18,19 +18,19 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__metadata__v3__MetadataKey_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__metadata__v3__MetadataKey_msg_init;
 extern const upb_MiniTable* envoy__type__metadata__v3__MetadataKey_msg_init_ptr;
-extern const upb_MiniTable envoy__type__metadata__v3__MetadataKey__PathSegment_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__metadata__v3__MetadataKey__PathSegment_msg_init;
 extern const upb_MiniTable* envoy__type__metadata__v3__MetadataKey__PathSegment_msg_init_ptr;
-extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind_msg_init;
 extern const upb_MiniTable* envoy__type__metadata__v3__MetadataKind_msg_init_ptr;
-extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind__Request_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind__Request_msg_init;
 extern const upb_MiniTable* envoy__type__metadata__v3__MetadataKind__Request_msg_init_ptr;
-extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind__Route_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind__Route_msg_init;
 extern const upb_MiniTable* envoy__type__metadata__v3__MetadataKind__Route_msg_init_ptr;
-extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind__Cluster_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind__Cluster_msg_init;
 extern const upb_MiniTable* envoy__type__metadata__v3__MetadataKind__Cluster_msg_init_ptr;
-extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind__Host_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__metadata__v3__MetadataKind__Host_msg_init;
 extern const upb_MiniTable* envoy__type__metadata__v3__MetadataKind__Host_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_metadata_v3_metadata_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/tracing/v3/custom_tag.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/tracing/v3/custom_tag.upb_minitable.h
index a80c1cf93f..44e5b922de 100644
--- a/src/core/ext/upb-gen/envoy/type/tracing/v3/custom_tag.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/tracing/v3/custom_tag.upb_minitable.h
@@ -18,15 +18,15 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__tracing__v3__CustomTag_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__tracing__v3__CustomTag_msg_init;
 extern const upb_MiniTable* envoy__type__tracing__v3__CustomTag_msg_init_ptr;
-extern const upb_MiniTable envoy__type__tracing__v3__CustomTag__Literal_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__tracing__v3__CustomTag__Literal_msg_init;
 extern const upb_MiniTable* envoy__type__tracing__v3__CustomTag__Literal_msg_init_ptr;
-extern const upb_MiniTable envoy__type__tracing__v3__CustomTag__Environment_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__tracing__v3__CustomTag__Environment_msg_init;
 extern const upb_MiniTable* envoy__type__tracing__v3__CustomTag__Environment_msg_init_ptr;
-extern const upb_MiniTable envoy__type__tracing__v3__CustomTag__Header_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__tracing__v3__CustomTag__Header_msg_init;
 extern const upb_MiniTable* envoy__type__tracing__v3__CustomTag__Header_msg_init_ptr;
-extern const upb_MiniTable envoy__type__tracing__v3__CustomTag__Metadata_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__tracing__v3__CustomTag__Metadata_msg_init;
 extern const upb_MiniTable* envoy__type__tracing__v3__CustomTag__Metadata_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_tracing_v3_custom_tag_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/v3/hash_policy.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/v3/hash_policy.upb_minitable.h
index 55fb17bddd..3b19909512 100644
--- a/src/core/ext/upb-gen/envoy/type/v3/hash_policy.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/v3/hash_policy.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__v3__HashPolicy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__HashPolicy_msg_init;
 extern const upb_MiniTable* envoy__type__v3__HashPolicy_msg_init_ptr;
-extern const upb_MiniTable envoy__type__v3__HashPolicy__SourceIp_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__HashPolicy__SourceIp_msg_init;
 extern const upb_MiniTable* envoy__type__v3__HashPolicy__SourceIp_msg_init_ptr;
-extern const upb_MiniTable envoy__type__v3__HashPolicy__FilterState_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__HashPolicy__FilterState_msg_init;
 extern const upb_MiniTable* envoy__type__v3__HashPolicy__FilterState_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_v3_hash_policy_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/v3/http_status.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/v3/http_status.upb_minitable.h
index 616cb5fc40..1ff3518286 100644
--- a/src/core/ext/upb-gen/envoy/type/v3/http_status.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/v3/http_status.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__v3__HttpStatus_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__HttpStatus_msg_init;
 extern const upb_MiniTable* envoy__type__v3__HttpStatus_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_v3_http_status_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/v3/percent.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/v3/percent.upb_minitable.h
index f66618c963..9d0a0ef5e7 100644
--- a/src/core/ext/upb-gen/envoy/type/v3/percent.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/v3/percent.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__v3__Percent_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__Percent_msg_init;
 extern const upb_MiniTable* envoy__type__v3__Percent_msg_init_ptr;
-extern const upb_MiniTable envoy__type__v3__FractionalPercent_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__FractionalPercent_msg_init;
 extern const upb_MiniTable* envoy__type__v3__FractionalPercent_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_v3_percent_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/v3/range.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/v3/range.upb_minitable.h
index 4ef1ad441e..8527bcd493 100644
--- a/src/core/ext/upb-gen/envoy/type/v3/range.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/v3/range.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__v3__Int64Range_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__Int64Range_msg_init;
 extern const upb_MiniTable* envoy__type__v3__Int64Range_msg_init_ptr;
-extern const upb_MiniTable envoy__type__v3__Int32Range_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__Int32Range_msg_init;
 extern const upb_MiniTable* envoy__type__v3__Int32Range_msg_init_ptr;
-extern const upb_MiniTable envoy__type__v3__DoubleRange_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__DoubleRange_msg_init;
 extern const upb_MiniTable* envoy__type__v3__DoubleRange_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_v3_range_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/v3/ratelimit_strategy.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/v3/ratelimit_strategy.upb_minitable.h
index 8a8432cce7..4704d43b75 100644
--- a/src/core/ext/upb-gen/envoy/type/v3/ratelimit_strategy.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/v3/ratelimit_strategy.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__v3__RateLimitStrategy_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__RateLimitStrategy_msg_init;
 extern const upb_MiniTable* envoy__type__v3__RateLimitStrategy_msg_init_ptr;
-extern const upb_MiniTable envoy__type__v3__RateLimitStrategy__RequestsPerTimeUnit_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__RateLimitStrategy__RequestsPerTimeUnit_msg_init;
 extern const upb_MiniTable* envoy__type__v3__RateLimitStrategy__RequestsPerTimeUnit_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_v3_ratelimit_strategy_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/v3/semantic_version.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/v3/semantic_version.upb_minitable.h
index 5a0dfcf902..561b430a0a 100644
--- a/src/core/ext/upb-gen/envoy/type/v3/semantic_version.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/v3/semantic_version.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__v3__SemanticVersion_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__SemanticVersion_msg_init;
 extern const upb_MiniTable* envoy__type__v3__SemanticVersion_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_v3_semantic_version_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/envoy/type/v3/token_bucket.upb_minitable.h b/src/core/ext/upb-gen/envoy/type/v3/token_bucket.upb_minitable.h
index 1ef0eb7e82..443918b49c 100644
--- a/src/core/ext/upb-gen/envoy/type/v3/token_bucket.upb_minitable.h
+++ b/src/core/ext/upb-gen/envoy/type/v3/token_bucket.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable envoy__type__v3__TokenBucket_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable envoy__type__v3__TokenBucket_msg_init;
 extern const upb_MiniTable* envoy__type__v3__TokenBucket_msg_init_ptr;
 
 extern const upb_MiniTableFile envoy_type_v3_token_bucket_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/api/expr/v1alpha1/checked.upb_minitable.h b/src/core/ext/upb-gen/google/api/expr/v1alpha1/checked.upb_minitable.h
index fba0e3d050..d969b054f2 100644
--- a/src/core/ext/upb-gen/google/api/expr/v1alpha1/checked.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/api/expr/v1alpha1/checked.upb_minitable.h
@@ -18,31 +18,31 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__api__expr__v1alpha1__CheckedExpr_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__CheckedExpr_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__CheckedExpr_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__CheckedExpr__ReferenceMapEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__CheckedExpr__ReferenceMapEntry_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__CheckedExpr__ReferenceMapEntry_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__CheckedExpr__TypeMapEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__CheckedExpr__TypeMapEntry_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__CheckedExpr__TypeMapEntry_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Type_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Type_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Type_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Type__ListType_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Type__ListType_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Type__ListType_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Type__MapType_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Type__MapType_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Type__MapType_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Type__FunctionType_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Type__FunctionType_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Type__FunctionType_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Type__AbstractType_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Type__AbstractType_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Type__AbstractType_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Decl_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Decl_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Decl_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Decl__IdentDecl_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Decl__IdentDecl_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Decl__IdentDecl_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Decl__FunctionDecl_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Decl__FunctionDecl_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Decl__FunctionDecl_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Decl__FunctionDecl__Overload_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Decl__FunctionDecl__Overload_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Decl__FunctionDecl__Overload_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Reference_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Reference_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Reference_msg_init_ptr;
 
 extern const upb_MiniTableFile google_api_expr_v1alpha1_checked_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/api/expr/v1alpha1/syntax.upb_minitable.h b/src/core/ext/upb-gen/google/api/expr/v1alpha1/syntax.upb_minitable.h
index ec8b6455e9..6bfdca0023 100644
--- a/src/core/ext/upb-gen/google/api/expr/v1alpha1/syntax.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/api/expr/v1alpha1/syntax.upb_minitable.h
@@ -18,37 +18,37 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__api__expr__v1alpha1__ParsedExpr_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__ParsedExpr_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__ParsedExpr_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Expr_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Expr_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Expr_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Expr__Ident_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Expr__Ident_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Expr__Ident_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Expr__Select_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Expr__Select_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Expr__Select_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Expr__Call_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Expr__Call_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Expr__Call_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Expr__CreateList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Expr__CreateList_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Expr__CreateList_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Expr__CreateStruct_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Expr__CreateStruct_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Expr__CreateStruct_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Expr__CreateStruct__Entry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Expr__CreateStruct__Entry_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Expr__CreateStruct__Entry_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Expr__Comprehension_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Expr__Comprehension_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Expr__Comprehension_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__Constant_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__Constant_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__Constant_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__SourceInfo_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo__Extension_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo__Extension_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__SourceInfo__Extension_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo__Extension__Version_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo__Extension__Version_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__SourceInfo__Extension__Version_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo__PositionsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo__PositionsEntry_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__SourceInfo__PositionsEntry_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo__MacroCallsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__SourceInfo__MacroCallsEntry_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__SourceInfo__MacroCallsEntry_msg_init_ptr;
-extern const upb_MiniTable google__api__expr__v1alpha1__SourcePosition_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__expr__v1alpha1__SourcePosition_msg_init;
 extern const upb_MiniTable* google__api__expr__v1alpha1__SourcePosition_msg_init_ptr;
 
 extern const upb_MiniTableFile google_api_expr_v1alpha1_syntax_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/api/http.upb_minitable.h b/src/core/ext/upb-gen/google/api/http.upb_minitable.h
index 425f1e8e76..3c26ef47f9 100644
--- a/src/core/ext/upb-gen/google/api/http.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/api/http.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__api__Http_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__Http_msg_init;
 extern const upb_MiniTable* google__api__Http_msg_init_ptr;
-extern const upb_MiniTable google__api__HttpRule_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__HttpRule_msg_init;
 extern const upb_MiniTable* google__api__HttpRule_msg_init_ptr;
-extern const upb_MiniTable google__api__CustomHttpPattern_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__CustomHttpPattern_msg_init;
 extern const upb_MiniTable* google__api__CustomHttpPattern_msg_init_ptr;
 
 extern const upb_MiniTableFile google_api_http_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/api/httpbody.upb_minitable.h b/src/core/ext/upb-gen/google/api/httpbody.upb_minitable.h
index 01f1f61d29..0303a8adfa 100644
--- a/src/core/ext/upb-gen/google/api/httpbody.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/api/httpbody.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__api__HttpBody_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__api__HttpBody_msg_init;
 extern const upb_MiniTable* google__api__HttpBody_msg_init_ptr;
 
 extern const upb_MiniTableFile google_api_httpbody_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/protobuf/any.upb_minitable.h b/src/core/ext/upb-gen/google/protobuf/any.upb_minitable.h
index 26fad8894b..ba98355391 100644
--- a/src/core/ext/upb-gen/google/protobuf/any.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/protobuf/any.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__protobuf__Any_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__Any_msg_init;
 extern const upb_MiniTable* google__protobuf__Any_msg_init_ptr;
 
 extern const upb_MiniTableFile google_protobuf_any_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/protobuf/descriptor.upb_minitable.h b/src/core/ext/upb-gen/google/protobuf/descriptor.upb_minitable.h
index 1dea594faf..8bb9d2de3c 100644
--- a/src/core/ext/upb-gen/google/protobuf/descriptor.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/protobuf/descriptor.upb_minitable.h
@@ -18,71 +18,71 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__protobuf__FileDescriptorSet_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FileDescriptorSet_msg_init;
 extern const upb_MiniTable* google__protobuf__FileDescriptorSet_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FileDescriptorProto_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FileDescriptorProto_msg_init;
 extern const upb_MiniTable* google__protobuf__FileDescriptorProto_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__DescriptorProto_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__DescriptorProto_msg_init;
 extern const upb_MiniTable* google__protobuf__DescriptorProto_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__DescriptorProto__ExtensionRange_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__DescriptorProto__ExtensionRange_msg_init;
 extern const upb_MiniTable* google__protobuf__DescriptorProto__ExtensionRange_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__DescriptorProto__ReservedRange_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__DescriptorProto__ReservedRange_msg_init;
 extern const upb_MiniTable* google__protobuf__DescriptorProto__ReservedRange_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__ExtensionRangeOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__ExtensionRangeOptions_msg_init;
 extern const upb_MiniTable* google__protobuf__ExtensionRangeOptions_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__ExtensionRangeOptions__Declaration_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__ExtensionRangeOptions__Declaration_msg_init;
 extern const upb_MiniTable* google__protobuf__ExtensionRangeOptions__Declaration_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FieldDescriptorProto_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FieldDescriptorProto_msg_init;
 extern const upb_MiniTable* google__protobuf__FieldDescriptorProto_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__OneofDescriptorProto_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__OneofDescriptorProto_msg_init;
 extern const upb_MiniTable* google__protobuf__OneofDescriptorProto_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__EnumDescriptorProto_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__EnumDescriptorProto_msg_init;
 extern const upb_MiniTable* google__protobuf__EnumDescriptorProto_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__EnumDescriptorProto__EnumReservedRange_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__EnumDescriptorProto__EnumReservedRange_msg_init;
 extern const upb_MiniTable* google__protobuf__EnumDescriptorProto__EnumReservedRange_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__EnumValueDescriptorProto_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__EnumValueDescriptorProto_msg_init;
 extern const upb_MiniTable* google__protobuf__EnumValueDescriptorProto_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__ServiceDescriptorProto_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__ServiceDescriptorProto_msg_init;
 extern const upb_MiniTable* google__protobuf__ServiceDescriptorProto_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__MethodDescriptorProto_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__MethodDescriptorProto_msg_init;
 extern const upb_MiniTable* google__protobuf__MethodDescriptorProto_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FileOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FileOptions_msg_init;
 extern const upb_MiniTable* google__protobuf__FileOptions_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__MessageOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__MessageOptions_msg_init;
 extern const upb_MiniTable* google__protobuf__MessageOptions_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FieldOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FieldOptions_msg_init;
 extern const upb_MiniTable* google__protobuf__FieldOptions_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FieldOptions__EditionDefault_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FieldOptions__EditionDefault_msg_init;
 extern const upb_MiniTable* google__protobuf__FieldOptions__EditionDefault_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FieldOptions__FeatureSupport_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FieldOptions__FeatureSupport_msg_init;
 extern const upb_MiniTable* google__protobuf__FieldOptions__FeatureSupport_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__OneofOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__OneofOptions_msg_init;
 extern const upb_MiniTable* google__protobuf__OneofOptions_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__EnumOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__EnumOptions_msg_init;
 extern const upb_MiniTable* google__protobuf__EnumOptions_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__EnumValueOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__EnumValueOptions_msg_init;
 extern const upb_MiniTable* google__protobuf__EnumValueOptions_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__ServiceOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__ServiceOptions_msg_init;
 extern const upb_MiniTable* google__protobuf__ServiceOptions_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__MethodOptions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__MethodOptions_msg_init;
 extern const upb_MiniTable* google__protobuf__MethodOptions_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__UninterpretedOption_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__UninterpretedOption_msg_init;
 extern const upb_MiniTable* google__protobuf__UninterpretedOption_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__UninterpretedOption__NamePart_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__UninterpretedOption__NamePart_msg_init;
 extern const upb_MiniTable* google__protobuf__UninterpretedOption__NamePart_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FeatureSet_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FeatureSet_msg_init;
 extern const upb_MiniTable* google__protobuf__FeatureSet_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FeatureSetDefaults_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FeatureSetDefaults_msg_init;
 extern const upb_MiniTable* google__protobuf__FeatureSetDefaults_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FeatureSetDefaults__FeatureSetEditionDefault_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FeatureSetDefaults__FeatureSetEditionDefault_msg_init;
 extern const upb_MiniTable* google__protobuf__FeatureSetDefaults__FeatureSetEditionDefault_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__SourceCodeInfo_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__SourceCodeInfo_msg_init;
 extern const upb_MiniTable* google__protobuf__SourceCodeInfo_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__SourceCodeInfo__Location_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__SourceCodeInfo__Location_msg_init;
 extern const upb_MiniTable* google__protobuf__SourceCodeInfo__Location_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__GeneratedCodeInfo_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__GeneratedCodeInfo_msg_init;
 extern const upb_MiniTable* google__protobuf__GeneratedCodeInfo_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__GeneratedCodeInfo__Annotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__GeneratedCodeInfo__Annotation_msg_init;
 extern const upb_MiniTable* google__protobuf__GeneratedCodeInfo__Annotation_msg_init_ptr;
 
 extern const upb_MiniTableEnum google__protobuf__Edition_enum_init;
diff --git a/src/core/ext/upb-gen/google/protobuf/duration.upb_minitable.h b/src/core/ext/upb-gen/google/protobuf/duration.upb_minitable.h
index 71b9969167..021090d962 100644
--- a/src/core/ext/upb-gen/google/protobuf/duration.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/protobuf/duration.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__protobuf__Duration_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__Duration_msg_init;
 extern const upb_MiniTable* google__protobuf__Duration_msg_init_ptr;
 
 extern const upb_MiniTableFile google_protobuf_duration_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/protobuf/empty.upb_minitable.h b/src/core/ext/upb-gen/google/protobuf/empty.upb_minitable.h
index 91c08190fd..39165a4c38 100644
--- a/src/core/ext/upb-gen/google/protobuf/empty.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/protobuf/empty.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__protobuf__Empty_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__Empty_msg_init;
 extern const upb_MiniTable* google__protobuf__Empty_msg_init_ptr;
 
 extern const upb_MiniTableFile google_protobuf_empty_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/protobuf/struct.upb_minitable.h b/src/core/ext/upb-gen/google/protobuf/struct.upb_minitable.h
index d2daacbb21..40c2fa2918 100644
--- a/src/core/ext/upb-gen/google/protobuf/struct.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/protobuf/struct.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__protobuf__Struct_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__Struct_msg_init;
 extern const upb_MiniTable* google__protobuf__Struct_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__Struct__FieldsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__Struct__FieldsEntry_msg_init;
 extern const upb_MiniTable* google__protobuf__Struct__FieldsEntry_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__Value_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__Value_msg_init;
 extern const upb_MiniTable* google__protobuf__Value_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__ListValue_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__ListValue_msg_init;
 extern const upb_MiniTable* google__protobuf__ListValue_msg_init_ptr;
 
 extern const upb_MiniTableFile google_protobuf_struct_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/protobuf/timestamp.upb_minitable.h b/src/core/ext/upb-gen/google/protobuf/timestamp.upb_minitable.h
index d3dbafc218..c4fe2a6365 100644
--- a/src/core/ext/upb-gen/google/protobuf/timestamp.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/protobuf/timestamp.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__protobuf__Timestamp_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__Timestamp_msg_init;
 extern const upb_MiniTable* google__protobuf__Timestamp_msg_init_ptr;
 
 extern const upb_MiniTableFile google_protobuf_timestamp_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/protobuf/wrappers.upb_minitable.h b/src/core/ext/upb-gen/google/protobuf/wrappers.upb_minitable.h
index 50dfd9c1d1..b6b087a6e5 100644
--- a/src/core/ext/upb-gen/google/protobuf/wrappers.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/protobuf/wrappers.upb_minitable.h
@@ -18,23 +18,23 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__protobuf__DoubleValue_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__DoubleValue_msg_init;
 extern const upb_MiniTable* google__protobuf__DoubleValue_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__FloatValue_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__FloatValue_msg_init;
 extern const upb_MiniTable* google__protobuf__FloatValue_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__Int64Value_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__Int64Value_msg_init;
 extern const upb_MiniTable* google__protobuf__Int64Value_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__UInt64Value_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__UInt64Value_msg_init;
 extern const upb_MiniTable* google__protobuf__UInt64Value_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__Int32Value_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__Int32Value_msg_init;
 extern const upb_MiniTable* google__protobuf__Int32Value_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__UInt32Value_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__UInt32Value_msg_init;
 extern const upb_MiniTable* google__protobuf__UInt32Value_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__BoolValue_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__BoolValue_msg_init;
 extern const upb_MiniTable* google__protobuf__BoolValue_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__StringValue_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__StringValue_msg_init;
 extern const upb_MiniTable* google__protobuf__StringValue_msg_init_ptr;
-extern const upb_MiniTable google__protobuf__BytesValue_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__protobuf__BytesValue_msg_init;
 extern const upb_MiniTable* google__protobuf__BytesValue_msg_init_ptr;
 
 extern const upb_MiniTableFile google_protobuf_wrappers_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/google/rpc/status.upb_minitable.h b/src/core/ext/upb-gen/google/rpc/status.upb_minitable.h
index 94a67935c1..d2e85699ef 100644
--- a/src/core/ext/upb-gen/google/rpc/status.upb_minitable.h
+++ b/src/core/ext/upb-gen/google/rpc/status.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable google__rpc__Status_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable google__rpc__Status_msg_init;
 extern const upb_MiniTable* google__rpc__Status_msg_init_ptr;
 
 extern const upb_MiniTableFile google_rpc_status_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/opencensus/proto/trace/v1/trace_config.upb_minitable.h b/src/core/ext/upb-gen/opencensus/proto/trace/v1/trace_config.upb_minitable.h
index 69ffca599a..802ad0e7f6 100644
--- a/src/core/ext/upb-gen/opencensus/proto/trace/v1/trace_config.upb_minitable.h
+++ b/src/core/ext/upb-gen/opencensus/proto/trace/v1/trace_config.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable opencensus__proto__trace__v1__TraceConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable opencensus__proto__trace__v1__TraceConfig_msg_init;
 extern const upb_MiniTable* opencensus__proto__trace__v1__TraceConfig_msg_init_ptr;
-extern const upb_MiniTable opencensus__proto__trace__v1__ProbabilitySampler_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable opencensus__proto__trace__v1__ProbabilitySampler_msg_init;
 extern const upb_MiniTable* opencensus__proto__trace__v1__ProbabilitySampler_msg_init_ptr;
-extern const upb_MiniTable opencensus__proto__trace__v1__ConstantSampler_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable opencensus__proto__trace__v1__ConstantSampler_msg_init;
 extern const upb_MiniTable* opencensus__proto__trace__v1__ConstantSampler_msg_init_ptr;
-extern const upb_MiniTable opencensus__proto__trace__v1__RateLimitingSampler_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable opencensus__proto__trace__v1__RateLimitingSampler_msg_init;
 extern const upb_MiniTable* opencensus__proto__trace__v1__RateLimitingSampler_msg_init_ptr;
 
 extern const upb_MiniTableFile opencensus_proto_trace_v1_trace_config_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/src/proto/grpc/gcp/altscontext.upb_minitable.h b/src/core/ext/upb-gen/src/proto/grpc/gcp/altscontext.upb_minitable.h
index 5284f20fa8..a8657c2721 100644
--- a/src/core/ext/upb-gen/src/proto/grpc/gcp/altscontext.upb_minitable.h
+++ b/src/core/ext/upb-gen/src/proto/grpc/gcp/altscontext.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable grpc__gcp__AltsContext_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__AltsContext_msg_init;
 extern const upb_MiniTable* grpc__gcp__AltsContext_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__AltsContext__PeerAttributesEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__AltsContext__PeerAttributesEntry_msg_init;
 extern const upb_MiniTable* grpc__gcp__AltsContext__PeerAttributesEntry_msg_init_ptr;
 
 extern const upb_MiniTableFile src_proto_grpc_gcp_altscontext_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/src/proto/grpc/gcp/handshaker.upb_minitable.h b/src/core/ext/upb-gen/src/proto/grpc/gcp/handshaker.upb_minitable.h
index 7545440b1b..53c5e0a1cc 100644
--- a/src/core/ext/upb-gen/src/proto/grpc/gcp/handshaker.upb_minitable.h
+++ b/src/core/ext/upb-gen/src/proto/grpc/gcp/handshaker.upb_minitable.h
@@ -18,29 +18,29 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable grpc__gcp__Endpoint_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__Endpoint_msg_init;
 extern const upb_MiniTable* grpc__gcp__Endpoint_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__Identity_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__Identity_msg_init;
 extern const upb_MiniTable* grpc__gcp__Identity_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__Identity__AttributesEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__Identity__AttributesEntry_msg_init;
 extern const upb_MiniTable* grpc__gcp__Identity__AttributesEntry_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__StartClientHandshakeReq_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__StartClientHandshakeReq_msg_init;
 extern const upb_MiniTable* grpc__gcp__StartClientHandshakeReq_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__ServerHandshakeParameters_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__ServerHandshakeParameters_msg_init;
 extern const upb_MiniTable* grpc__gcp__ServerHandshakeParameters_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__StartServerHandshakeReq_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__StartServerHandshakeReq_msg_init;
 extern const upb_MiniTable* grpc__gcp__StartServerHandshakeReq_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__StartServerHandshakeReq__HandshakeParametersEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__StartServerHandshakeReq__HandshakeParametersEntry_msg_init;
 extern const upb_MiniTable* grpc__gcp__StartServerHandshakeReq__HandshakeParametersEntry_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__NextHandshakeMessageReq_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__NextHandshakeMessageReq_msg_init;
 extern const upb_MiniTable* grpc__gcp__NextHandshakeMessageReq_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__HandshakerReq_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__HandshakerReq_msg_init;
 extern const upb_MiniTable* grpc__gcp__HandshakerReq_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__HandshakerResult_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__HandshakerResult_msg_init;
 extern const upb_MiniTable* grpc__gcp__HandshakerResult_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__HandshakerStatus_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__HandshakerStatus_msg_init;
 extern const upb_MiniTable* grpc__gcp__HandshakerStatus_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__HandshakerResp_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__HandshakerResp_msg_init;
 extern const upb_MiniTable* grpc__gcp__HandshakerResp_msg_init_ptr;
 
 extern const upb_MiniTableFile src_proto_grpc_gcp_handshaker_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/src/proto/grpc/gcp/transport_security_common.upb_minitable.h b/src/core/ext/upb-gen/src/proto/grpc/gcp/transport_security_common.upb_minitable.h
index ed3d40e2be..321c32165e 100644
--- a/src/core/ext/upb-gen/src/proto/grpc/gcp/transport_security_common.upb_minitable.h
+++ b/src/core/ext/upb-gen/src/proto/grpc/gcp/transport_security_common.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable grpc__gcp__RpcProtocolVersions_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__RpcProtocolVersions_msg_init;
 extern const upb_MiniTable* grpc__gcp__RpcProtocolVersions_msg_init_ptr;
-extern const upb_MiniTable grpc__gcp__RpcProtocolVersions__Version_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__gcp__RpcProtocolVersions__Version_msg_init;
 extern const upb_MiniTable* grpc__gcp__RpcProtocolVersions__Version_msg_init_ptr;
 
 extern const upb_MiniTableFile src_proto_grpc_gcp_transport_security_common_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/src/proto/grpc/health/v1/health.upb_minitable.h b/src/core/ext/upb-gen/src/proto/grpc/health/v1/health.upb_minitable.h
index f359134f75..12b1870926 100644
--- a/src/core/ext/upb-gen/src/proto/grpc/health/v1/health.upb_minitable.h
+++ b/src/core/ext/upb-gen/src/proto/grpc/health/v1/health.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable grpc__health__v1__HealthCheckRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__health__v1__HealthCheckRequest_msg_init;
 extern const upb_MiniTable* grpc__health__v1__HealthCheckRequest_msg_init_ptr;
-extern const upb_MiniTable grpc__health__v1__HealthCheckResponse_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__health__v1__HealthCheckResponse_msg_init;
 extern const upb_MiniTable* grpc__health__v1__HealthCheckResponse_msg_init_ptr;
 
 extern const upb_MiniTableFile src_proto_grpc_health_v1_health_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/src/proto/grpc/lb/v1/load_balancer.upb_minitable.h b/src/core/ext/upb-gen/src/proto/grpc/lb/v1/load_balancer.upb_minitable.h
index 774c19f245..b8e1e682dd 100644
--- a/src/core/ext/upb-gen/src/proto/grpc/lb/v1/load_balancer.upb_minitable.h
+++ b/src/core/ext/upb-gen/src/proto/grpc/lb/v1/load_balancer.upb_minitable.h
@@ -18,23 +18,23 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable grpc__lb__v1__LoadBalanceRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lb__v1__LoadBalanceRequest_msg_init;
 extern const upb_MiniTable* grpc__lb__v1__LoadBalanceRequest_msg_init_ptr;
-extern const upb_MiniTable grpc__lb__v1__InitialLoadBalanceRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lb__v1__InitialLoadBalanceRequest_msg_init;
 extern const upb_MiniTable* grpc__lb__v1__InitialLoadBalanceRequest_msg_init_ptr;
-extern const upb_MiniTable grpc__lb__v1__ClientStatsPerToken_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lb__v1__ClientStatsPerToken_msg_init;
 extern const upb_MiniTable* grpc__lb__v1__ClientStatsPerToken_msg_init_ptr;
-extern const upb_MiniTable grpc__lb__v1__ClientStats_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lb__v1__ClientStats_msg_init;
 extern const upb_MiniTable* grpc__lb__v1__ClientStats_msg_init_ptr;
-extern const upb_MiniTable grpc__lb__v1__LoadBalanceResponse_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lb__v1__LoadBalanceResponse_msg_init;
 extern const upb_MiniTable* grpc__lb__v1__LoadBalanceResponse_msg_init_ptr;
-extern const upb_MiniTable grpc__lb__v1__FallbackResponse_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lb__v1__FallbackResponse_msg_init;
 extern const upb_MiniTable* grpc__lb__v1__FallbackResponse_msg_init_ptr;
-extern const upb_MiniTable grpc__lb__v1__InitialLoadBalanceResponse_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lb__v1__InitialLoadBalanceResponse_msg_init;
 extern const upb_MiniTable* grpc__lb__v1__InitialLoadBalanceResponse_msg_init_ptr;
-extern const upb_MiniTable grpc__lb__v1__ServerList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lb__v1__ServerList_msg_init;
 extern const upb_MiniTable* grpc__lb__v1__ServerList_msg_init_ptr;
-extern const upb_MiniTable grpc__lb__v1__Server_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lb__v1__Server_msg_init;
 extern const upb_MiniTable* grpc__lb__v1__Server_msg_init_ptr;
 
 extern const upb_MiniTableFile src_proto_grpc_lb_v1_load_balancer_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/src/proto/grpc/lookup/v1/rls.upb_minitable.h b/src/core/ext/upb-gen/src/proto/grpc/lookup/v1/rls.upb_minitable.h
index 64b4566375..8f7c58df66 100644
--- a/src/core/ext/upb-gen/src/proto/grpc/lookup/v1/rls.upb_minitable.h
+++ b/src/core/ext/upb-gen/src/proto/grpc/lookup/v1/rls.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable grpc__lookup__v1__RouteLookupRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__RouteLookupRequest_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__RouteLookupRequest_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__RouteLookupRequest__KeyMapEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__RouteLookupRequest__KeyMapEntry_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__RouteLookupRequest__KeyMapEntry_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__RouteLookupResponse_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__RouteLookupResponse_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__RouteLookupResponse_msg_init_ptr;
 
 extern const upb_MiniTableFile src_proto_grpc_lookup_v1_rls_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/src/proto/grpc/lookup/v1/rls_config.upb_minitable.h b/src/core/ext/upb-gen/src/proto/grpc/lookup/v1/rls_config.upb_minitable.h
index e6f92d652e..8566669adb 100644
--- a/src/core/ext/upb-gen/src/proto/grpc/lookup/v1/rls_config.upb_minitable.h
+++ b/src/core/ext/upb-gen/src/proto/grpc/lookup/v1/rls_config.upb_minitable.h
@@ -18,23 +18,23 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable grpc__lookup__v1__NameMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__NameMatcher_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__NameMatcher_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__GrpcKeyBuilder_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__GrpcKeyBuilder_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__GrpcKeyBuilder_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__GrpcKeyBuilder__Name_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__GrpcKeyBuilder__Name_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__GrpcKeyBuilder__Name_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__GrpcKeyBuilder__ExtraKeys_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__GrpcKeyBuilder__ExtraKeys_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__GrpcKeyBuilder__ExtraKeys_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__GrpcKeyBuilder__ConstantKeysEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__GrpcKeyBuilder__ConstantKeysEntry_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__GrpcKeyBuilder__ConstantKeysEntry_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__HttpKeyBuilder_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__HttpKeyBuilder_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__HttpKeyBuilder_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__HttpKeyBuilder__ConstantKeysEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__HttpKeyBuilder__ConstantKeysEntry_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__HttpKeyBuilder__ConstantKeysEntry_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__RouteLookupConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__RouteLookupConfig_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__RouteLookupConfig_msg_init_ptr;
-extern const upb_MiniTable grpc__lookup__v1__RouteLookupClusterSpecifier_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable grpc__lookup__v1__RouteLookupClusterSpecifier_msg_init;
 extern const upb_MiniTable* grpc__lookup__v1__RouteLookupClusterSpecifier_msg_init_ptr;
 
 extern const upb_MiniTableFile src_proto_grpc_lookup_v1_rls_config_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/udpa/annotations/migrate.upb_minitable.h b/src/core/ext/upb-gen/udpa/annotations/migrate.upb_minitable.h
index 798611dd8f..ef896a6269 100644
--- a/src/core/ext/upb-gen/udpa/annotations/migrate.upb_minitable.h
+++ b/src/core/ext/upb-gen/udpa/annotations/migrate.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable udpa__annotations__MigrateAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable udpa__annotations__MigrateAnnotation_msg_init;
 extern const upb_MiniTable* udpa__annotations__MigrateAnnotation_msg_init_ptr;
-extern const upb_MiniTable udpa__annotations__FieldMigrateAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable udpa__annotations__FieldMigrateAnnotation_msg_init;
 extern const upb_MiniTable* udpa__annotations__FieldMigrateAnnotation_msg_init_ptr;
-extern const upb_MiniTable udpa__annotations__FileMigrateAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable udpa__annotations__FileMigrateAnnotation_msg_init;
 extern const upb_MiniTable* udpa__annotations__FileMigrateAnnotation_msg_init_ptr;
 extern const upb_MiniTableExtension udpa_annotations_message_migrate_ext;
 extern const upb_MiniTableExtension udpa_annotations_field_migrate_ext;
diff --git a/src/core/ext/upb-gen/udpa/annotations/security.upb_minitable.h b/src/core/ext/upb-gen/udpa/annotations/security.upb_minitable.h
index 14e4a6c78c..0199c4b65e 100644
--- a/src/core/ext/upb-gen/udpa/annotations/security.upb_minitable.h
+++ b/src/core/ext/upb-gen/udpa/annotations/security.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable udpa__annotations__FieldSecurityAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable udpa__annotations__FieldSecurityAnnotation_msg_init;
 extern const upb_MiniTable* udpa__annotations__FieldSecurityAnnotation_msg_init_ptr;
 extern const upb_MiniTableExtension udpa_annotations_security_ext;
 
diff --git a/src/core/ext/upb-gen/udpa/annotations/status.upb_minitable.h b/src/core/ext/upb-gen/udpa/annotations/status.upb_minitable.h
index bfd1222990..31d60ae33a 100644
--- a/src/core/ext/upb-gen/udpa/annotations/status.upb_minitable.h
+++ b/src/core/ext/upb-gen/udpa/annotations/status.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable udpa__annotations__StatusAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable udpa__annotations__StatusAnnotation_msg_init;
 extern const upb_MiniTable* udpa__annotations__StatusAnnotation_msg_init_ptr;
 extern const upb_MiniTableExtension udpa_annotations_file_status_ext;
 
diff --git a/src/core/ext/upb-gen/udpa/annotations/versioning.upb_minitable.h b/src/core/ext/upb-gen/udpa/annotations/versioning.upb_minitable.h
index c395cf9628..e828bbebe5 100644
--- a/src/core/ext/upb-gen/udpa/annotations/versioning.upb_minitable.h
+++ b/src/core/ext/upb-gen/udpa/annotations/versioning.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable udpa__annotations__VersioningAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable udpa__annotations__VersioningAnnotation_msg_init;
 extern const upb_MiniTable* udpa__annotations__VersioningAnnotation_msg_init_ptr;
 extern const upb_MiniTableExtension udpa_annotations_versioning_ext;
 
diff --git a/src/core/ext/upb-gen/validate/validate.upb_minitable.h b/src/core/ext/upb-gen/validate/validate.upb_minitable.h
index 6372b24ac8..f5fcdc25b4 100644
--- a/src/core/ext/upb-gen/validate/validate.upb_minitable.h
+++ b/src/core/ext/upb-gen/validate/validate.upb_minitable.h
@@ -18,51 +18,51 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable validate__FieldRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__FieldRules_msg_init;
 extern const upb_MiniTable* validate__FieldRules_msg_init_ptr;
-extern const upb_MiniTable validate__FloatRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__FloatRules_msg_init;
 extern const upb_MiniTable* validate__FloatRules_msg_init_ptr;
-extern const upb_MiniTable validate__DoubleRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__DoubleRules_msg_init;
 extern const upb_MiniTable* validate__DoubleRules_msg_init_ptr;
-extern const upb_MiniTable validate__Int32Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__Int32Rules_msg_init;
 extern const upb_MiniTable* validate__Int32Rules_msg_init_ptr;
-extern const upb_MiniTable validate__Int64Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__Int64Rules_msg_init;
 extern const upb_MiniTable* validate__Int64Rules_msg_init_ptr;
-extern const upb_MiniTable validate__UInt32Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__UInt32Rules_msg_init;
 extern const upb_MiniTable* validate__UInt32Rules_msg_init_ptr;
-extern const upb_MiniTable validate__UInt64Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__UInt64Rules_msg_init;
 extern const upb_MiniTable* validate__UInt64Rules_msg_init_ptr;
-extern const upb_MiniTable validate__SInt32Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__SInt32Rules_msg_init;
 extern const upb_MiniTable* validate__SInt32Rules_msg_init_ptr;
-extern const upb_MiniTable validate__SInt64Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__SInt64Rules_msg_init;
 extern const upb_MiniTable* validate__SInt64Rules_msg_init_ptr;
-extern const upb_MiniTable validate__Fixed32Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__Fixed32Rules_msg_init;
 extern const upb_MiniTable* validate__Fixed32Rules_msg_init_ptr;
-extern const upb_MiniTable validate__Fixed64Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__Fixed64Rules_msg_init;
 extern const upb_MiniTable* validate__Fixed64Rules_msg_init_ptr;
-extern const upb_MiniTable validate__SFixed32Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__SFixed32Rules_msg_init;
 extern const upb_MiniTable* validate__SFixed32Rules_msg_init_ptr;
-extern const upb_MiniTable validate__SFixed64Rules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__SFixed64Rules_msg_init;
 extern const upb_MiniTable* validate__SFixed64Rules_msg_init_ptr;
-extern const upb_MiniTable validate__BoolRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__BoolRules_msg_init;
 extern const upb_MiniTable* validate__BoolRules_msg_init_ptr;
-extern const upb_MiniTable validate__StringRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__StringRules_msg_init;
 extern const upb_MiniTable* validate__StringRules_msg_init_ptr;
-extern const upb_MiniTable validate__BytesRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__BytesRules_msg_init;
 extern const upb_MiniTable* validate__BytesRules_msg_init_ptr;
-extern const upb_MiniTable validate__EnumRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__EnumRules_msg_init;
 extern const upb_MiniTable* validate__EnumRules_msg_init_ptr;
-extern const upb_MiniTable validate__MessageRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__MessageRules_msg_init;
 extern const upb_MiniTable* validate__MessageRules_msg_init_ptr;
-extern const upb_MiniTable validate__RepeatedRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__RepeatedRules_msg_init;
 extern const upb_MiniTable* validate__RepeatedRules_msg_init_ptr;
-extern const upb_MiniTable validate__MapRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__MapRules_msg_init;
 extern const upb_MiniTable* validate__MapRules_msg_init_ptr;
-extern const upb_MiniTable validate__AnyRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__AnyRules_msg_init;
 extern const upb_MiniTable* validate__AnyRules_msg_init_ptr;
-extern const upb_MiniTable validate__DurationRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__DurationRules_msg_init;
 extern const upb_MiniTable* validate__DurationRules_msg_init_ptr;
-extern const upb_MiniTable validate__TimestampRules_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable validate__TimestampRules_msg_init;
 extern const upb_MiniTable* validate__TimestampRules_msg_init_ptr;
 extern const upb_MiniTableExtension validate_disabled_ext;
 extern const upb_MiniTableExtension validate_ignored_ext;
diff --git a/src/core/ext/upb-gen/xds/annotations/v3/migrate.upb_minitable.h b/src/core/ext/upb-gen/xds/annotations/v3/migrate.upb_minitable.h
index c162d5926f..f4eb1f9a65 100644
--- a/src/core/ext/upb-gen/xds/annotations/v3/migrate.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/annotations/v3/migrate.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__annotations__v3__MigrateAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__annotations__v3__MigrateAnnotation_msg_init;
 extern const upb_MiniTable* xds__annotations__v3__MigrateAnnotation_msg_init_ptr;
-extern const upb_MiniTable xds__annotations__v3__FieldMigrateAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__annotations__v3__FieldMigrateAnnotation_msg_init;
 extern const upb_MiniTable* xds__annotations__v3__FieldMigrateAnnotation_msg_init_ptr;
-extern const upb_MiniTable xds__annotations__v3__FileMigrateAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__annotations__v3__FileMigrateAnnotation_msg_init;
 extern const upb_MiniTable* xds__annotations__v3__FileMigrateAnnotation_msg_init_ptr;
 extern const upb_MiniTableExtension xds_annotations_v3_message_migrate_ext;
 extern const upb_MiniTableExtension xds_annotations_v3_field_migrate_ext;
diff --git a/src/core/ext/upb-gen/xds/annotations/v3/security.upb_minitable.h b/src/core/ext/upb-gen/xds/annotations/v3/security.upb_minitable.h
index 1bcd036edb..b9ca51a2c4 100644
--- a/src/core/ext/upb-gen/xds/annotations/v3/security.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/annotations/v3/security.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__annotations__v3__FieldSecurityAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__annotations__v3__FieldSecurityAnnotation_msg_init;
 extern const upb_MiniTable* xds__annotations__v3__FieldSecurityAnnotation_msg_init_ptr;
 extern const upb_MiniTableExtension xds_annotations_v3_security_ext;
 
diff --git a/src/core/ext/upb-gen/xds/annotations/v3/status.upb_minitable.h b/src/core/ext/upb-gen/xds/annotations/v3/status.upb_minitable.h
index 76356ad65a..d589c85c37 100644
--- a/src/core/ext/upb-gen/xds/annotations/v3/status.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/annotations/v3/status.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__annotations__v3__FileStatusAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__annotations__v3__FileStatusAnnotation_msg_init;
 extern const upb_MiniTable* xds__annotations__v3__FileStatusAnnotation_msg_init_ptr;
-extern const upb_MiniTable xds__annotations__v3__MessageStatusAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__annotations__v3__MessageStatusAnnotation_msg_init;
 extern const upb_MiniTable* xds__annotations__v3__MessageStatusAnnotation_msg_init_ptr;
-extern const upb_MiniTable xds__annotations__v3__FieldStatusAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__annotations__v3__FieldStatusAnnotation_msg_init;
 extern const upb_MiniTable* xds__annotations__v3__FieldStatusAnnotation_msg_init_ptr;
-extern const upb_MiniTable xds__annotations__v3__StatusAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__annotations__v3__StatusAnnotation_msg_init;
 extern const upb_MiniTable* xds__annotations__v3__StatusAnnotation_msg_init_ptr;
 extern const upb_MiniTableExtension xds_annotations_v3_file_status_ext;
 extern const upb_MiniTableExtension xds_annotations_v3_message_status_ext;
diff --git a/src/core/ext/upb-gen/xds/annotations/v3/versioning.upb_minitable.h b/src/core/ext/upb-gen/xds/annotations/v3/versioning.upb_minitable.h
index e0fcc290de..ab6101e6dc 100644
--- a/src/core/ext/upb-gen/xds/annotations/v3/versioning.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/annotations/v3/versioning.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__annotations__v3__VersioningAnnotation_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__annotations__v3__VersioningAnnotation_msg_init;
 extern const upb_MiniTable* xds__annotations__v3__VersioningAnnotation_msg_init_ptr;
 extern const upb_MiniTableExtension xds_annotations_v3_versioning_ext;
 
diff --git a/src/core/ext/upb-gen/xds/core/v3/authority.upb_minitable.h b/src/core/ext/upb-gen/xds/core/v3/authority.upb_minitable.h
index fedb1d1c18..7492fb823b 100644
--- a/src/core/ext/upb-gen/xds/core/v3/authority.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/core/v3/authority.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__core__v3__Authority_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__Authority_msg_init;
 extern const upb_MiniTable* xds__core__v3__Authority_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_core_v3_authority_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/core/v3/cidr.upb_minitable.h b/src/core/ext/upb-gen/xds/core/v3/cidr.upb_minitable.h
index 263126dab8..be29bd8aa5 100644
--- a/src/core/ext/upb-gen/xds/core/v3/cidr.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/core/v3/cidr.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__core__v3__CidrRange_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__CidrRange_msg_init;
 extern const upb_MiniTable* xds__core__v3__CidrRange_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_core_v3_cidr_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/core/v3/collection_entry.upb_minitable.h b/src/core/ext/upb-gen/xds/core/v3/collection_entry.upb_minitable.h
index 1914598799..b57f1b6d13 100644
--- a/src/core/ext/upb-gen/xds/core/v3/collection_entry.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/core/v3/collection_entry.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__core__v3__CollectionEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__CollectionEntry_msg_init;
 extern const upb_MiniTable* xds__core__v3__CollectionEntry_msg_init_ptr;
-extern const upb_MiniTable xds__core__v3__CollectionEntry__InlineEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__CollectionEntry__InlineEntry_msg_init;
 extern const upb_MiniTable* xds__core__v3__CollectionEntry__InlineEntry_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_core_v3_collection_entry_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/core/v3/context_params.upb_minitable.h b/src/core/ext/upb-gen/xds/core/v3/context_params.upb_minitable.h
index 213ee86860..ac30429b33 100644
--- a/src/core/ext/upb-gen/xds/core/v3/context_params.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/core/v3/context_params.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__core__v3__ContextParams_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__ContextParams_msg_init;
 extern const upb_MiniTable* xds__core__v3__ContextParams_msg_init_ptr;
-extern const upb_MiniTable xds__core__v3__ContextParams__ParamsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__ContextParams__ParamsEntry_msg_init;
 extern const upb_MiniTable* xds__core__v3__ContextParams__ParamsEntry_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_core_v3_context_params_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/core/v3/extension.upb_minitable.h b/src/core/ext/upb-gen/xds/core/v3/extension.upb_minitable.h
index 4e1f351237..29a2ff76e2 100644
--- a/src/core/ext/upb-gen/xds/core/v3/extension.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/core/v3/extension.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__core__v3__TypedExtensionConfig_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__TypedExtensionConfig_msg_init;
 extern const upb_MiniTable* xds__core__v3__TypedExtensionConfig_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_core_v3_extension_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/core/v3/resource.upb_minitable.h b/src/core/ext/upb-gen/xds/core/v3/resource.upb_minitable.h
index a0c5c7719d..68eb3a24d5 100644
--- a/src/core/ext/upb-gen/xds/core/v3/resource.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/core/v3/resource.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__core__v3__Resource_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__Resource_msg_init;
 extern const upb_MiniTable* xds__core__v3__Resource_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_core_v3_resource_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/core/v3/resource_locator.upb_minitable.h b/src/core/ext/upb-gen/xds/core/v3/resource_locator.upb_minitable.h
index 9cb499138b..e1523f00db 100644
--- a/src/core/ext/upb-gen/xds/core/v3/resource_locator.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/core/v3/resource_locator.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__core__v3__ResourceLocator_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__ResourceLocator_msg_init;
 extern const upb_MiniTable* xds__core__v3__ResourceLocator_msg_init_ptr;
-extern const upb_MiniTable xds__core__v3__ResourceLocator__Directive_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__ResourceLocator__Directive_msg_init;
 extern const upb_MiniTable* xds__core__v3__ResourceLocator__Directive_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_core_v3_resource_locator_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/core/v3/resource_name.upb_minitable.h b/src/core/ext/upb-gen/xds/core/v3/resource_name.upb_minitable.h
index 9a031f751a..abd3644c89 100644
--- a/src/core/ext/upb-gen/xds/core/v3/resource_name.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/core/v3/resource_name.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__core__v3__ResourceName_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__core__v3__ResourceName_msg_init;
 extern const upb_MiniTable* xds__core__v3__ResourceName_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_core_v3_resource_name_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/data/orca/v3/orca_load_report.upb_minitable.h b/src/core/ext/upb-gen/xds/data/orca/v3/orca_load_report.upb_minitable.h
index 588a0d8cd8..cac57f834a 100644
--- a/src/core/ext/upb-gen/xds/data/orca/v3/orca_load_report.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/data/orca/v3/orca_load_report.upb_minitable.h
@@ -18,13 +18,13 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__data__orca__v3__OrcaLoadReport_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__data__orca__v3__OrcaLoadReport_msg_init;
 extern const upb_MiniTable* xds__data__orca__v3__OrcaLoadReport_msg_init_ptr;
-extern const upb_MiniTable xds__data__orca__v3__OrcaLoadReport__RequestCostEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__data__orca__v3__OrcaLoadReport__RequestCostEntry_msg_init;
 extern const upb_MiniTable* xds__data__orca__v3__OrcaLoadReport__RequestCostEntry_msg_init_ptr;
-extern const upb_MiniTable xds__data__orca__v3__OrcaLoadReport__UtilizationEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__data__orca__v3__OrcaLoadReport__UtilizationEntry_msg_init;
 extern const upb_MiniTable* xds__data__orca__v3__OrcaLoadReport__UtilizationEntry_msg_init_ptr;
-extern const upb_MiniTable xds__data__orca__v3__OrcaLoadReport__NamedMetricsEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__data__orca__v3__OrcaLoadReport__NamedMetricsEntry_msg_init;
 extern const upb_MiniTable* xds__data__orca__v3__OrcaLoadReport__NamedMetricsEntry_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_data_orca_v3_orca_load_report_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/service/orca/v3/orca.upb_minitable.h b/src/core/ext/upb-gen/xds/service/orca/v3/orca.upb_minitable.h
index 9b6c6d8163..ee78e63a28 100644
--- a/src/core/ext/upb-gen/xds/service/orca/v3/orca.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/service/orca/v3/orca.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__service__orca__v3__OrcaLoadReportRequest_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__service__orca__v3__OrcaLoadReportRequest_msg_init;
 extern const upb_MiniTable* xds__service__orca__v3__OrcaLoadReportRequest_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_service_orca_v3_orca_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/matcher/v3/cel.upb_minitable.h b/src/core/ext/upb-gen/xds/type/matcher/v3/cel.upb_minitable.h
index 6453b80eb7..6b8f6fbcce 100644
--- a/src/core/ext/upb-gen/xds/type/matcher/v3/cel.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/matcher/v3/cel.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__matcher__v3__CelMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__CelMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__CelMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_matcher_v3_cel_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/matcher/v3/domain.upb_minitable.h b/src/core/ext/upb-gen/xds/type/matcher/v3/domain.upb_minitable.h
index 1aac5049dc..e6627a7280 100644
--- a/src/core/ext/upb-gen/xds/type/matcher/v3/domain.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/matcher/v3/domain.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__matcher__v3__ServerNameMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__ServerNameMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__ServerNameMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__ServerNameMatcher__DomainMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__ServerNameMatcher__DomainMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__ServerNameMatcher__DomainMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_matcher_v3_domain_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/matcher/v3/http_inputs.upb_minitable.h b/src/core/ext/upb-gen/xds/type/matcher/v3/http_inputs.upb_minitable.h
index 4f9999c853..b25cf68b13 100644
--- a/src/core/ext/upb-gen/xds/type/matcher/v3/http_inputs.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/matcher/v3/http_inputs.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__matcher__v3__HttpAttributesCelMatchInput_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__HttpAttributesCelMatchInput_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__HttpAttributesCelMatchInput_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_matcher_v3_http_inputs_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/matcher/v3/ip.upb_minitable.h b/src/core/ext/upb-gen/xds/type/matcher/v3/ip.upb_minitable.h
index c80fb54536..2a665ecc63 100644
--- a/src/core/ext/upb-gen/xds/type/matcher/v3/ip.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/matcher/v3/ip.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__matcher__v3__IPMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__IPMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__IPMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__IPMatcher__IPRangeMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__IPMatcher__IPRangeMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__IPMatcher__IPRangeMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_matcher_v3_ip_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/matcher/v3/matcher.upb_minitable.h b/src/core/ext/upb-gen/xds/type/matcher/v3/matcher.upb_minitable.h
index 6a67d6fd1a..173b42a8c3 100644
--- a/src/core/ext/upb-gen/xds/type/matcher/v3/matcher.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/matcher/v3/matcher.upb_minitable.h
@@ -18,25 +18,25 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__matcher__v3__Matcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Matcher__OnMatch_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher__OnMatch_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher__OnMatch_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher__MatcherList_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList__Predicate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList__Predicate_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher__MatcherList__Predicate_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList__Predicate__SinglePredicate_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList__Predicate__SinglePredicate_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher__MatcherList__Predicate__SinglePredicate_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList__Predicate__PredicateList_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList__Predicate__PredicateList_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher__MatcherList__Predicate__PredicateList_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList__FieldMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherList__FieldMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher__MatcherList__FieldMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherTree_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherTree_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher__MatcherTree_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherTree__MatchMap_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherTree__MatchMap_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher__MatcherTree__MatchMap_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherTree__MatchMap__MapEntry_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Matcher__MatcherTree__MatchMap__MapEntry_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Matcher__MatcherTree__MatchMap__MapEntry_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_matcher_v3_matcher_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/matcher/v3/range.upb_minitable.h b/src/core/ext/upb-gen/xds/type/matcher/v3/range.upb_minitable.h
index 8933062cee..1b9834e614 100644
--- a/src/core/ext/upb-gen/xds/type/matcher/v3/range.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/matcher/v3/range.upb_minitable.h
@@ -18,17 +18,17 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__matcher__v3__Int64RangeMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Int64RangeMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Int64RangeMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Int64RangeMatcher__RangeMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Int64RangeMatcher__RangeMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Int64RangeMatcher__RangeMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Int32RangeMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Int32RangeMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Int32RangeMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__Int32RangeMatcher__RangeMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__Int32RangeMatcher__RangeMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__Int32RangeMatcher__RangeMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__DoubleRangeMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__DoubleRangeMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__DoubleRangeMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__DoubleRangeMatcher__RangeMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__DoubleRangeMatcher__RangeMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__DoubleRangeMatcher__RangeMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_matcher_v3_range_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/matcher/v3/regex.upb_minitable.h b/src/core/ext/upb-gen/xds/type/matcher/v3/regex.upb_minitable.h
index 8b738b4090..3ddfc61c16 100644
--- a/src/core/ext/upb-gen/xds/type/matcher/v3/regex.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/matcher/v3/regex.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__matcher__v3__RegexMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__RegexMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__RegexMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__RegexMatcher__GoogleRE2_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__RegexMatcher__GoogleRE2_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__RegexMatcher__GoogleRE2_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_matcher_v3_regex_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/matcher/v3/string.upb_minitable.h b/src/core/ext/upb-gen/xds/type/matcher/v3/string.upb_minitable.h
index c721756b2b..8dec975fb2 100644
--- a/src/core/ext/upb-gen/xds/type/matcher/v3/string.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/matcher/v3/string.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__matcher__v3__StringMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__StringMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__StringMatcher_msg_init_ptr;
-extern const upb_MiniTable xds__type__matcher__v3__ListStringMatcher_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__matcher__v3__ListStringMatcher_msg_init;
 extern const upb_MiniTable* xds__type__matcher__v3__ListStringMatcher_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_matcher_v3_string_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/v3/cel.upb_minitable.h b/src/core/ext/upb-gen/xds/type/v3/cel.upb_minitable.h
index 2f12b4a074..3f75c3a3d2 100644
--- a/src/core/ext/upb-gen/xds/type/v3/cel.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/v3/cel.upb_minitable.h
@@ -18,9 +18,9 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__v3__CelExpression_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__v3__CelExpression_msg_init;
 extern const upb_MiniTable* xds__type__v3__CelExpression_msg_init_ptr;
-extern const upb_MiniTable xds__type__v3__CelExtractString_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__v3__CelExtractString_msg_init;
 extern const upb_MiniTable* xds__type__v3__CelExtractString_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_v3_cel_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/v3/range.upb_minitable.h b/src/core/ext/upb-gen/xds/type/v3/range.upb_minitable.h
index e4034aa6a9..a9cade1230 100644
--- a/src/core/ext/upb-gen/xds/type/v3/range.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/v3/range.upb_minitable.h
@@ -18,11 +18,11 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__v3__Int64Range_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__v3__Int64Range_msg_init;
 extern const upb_MiniTable* xds__type__v3__Int64Range_msg_init_ptr;
-extern const upb_MiniTable xds__type__v3__Int32Range_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__v3__Int32Range_msg_init;
 extern const upb_MiniTable* xds__type__v3__Int32Range_msg_init_ptr;
-extern const upb_MiniTable xds__type__v3__DoubleRange_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__v3__DoubleRange_msg_init;
 extern const upb_MiniTable* xds__type__v3__DoubleRange_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_v3_range_proto_upb_file_layout;
diff --git a/src/core/ext/upb-gen/xds/type/v3/typed_struct.upb_minitable.h b/src/core/ext/upb-gen/xds/type/v3/typed_struct.upb_minitable.h
index c3d3bef118..d3dbc2759f 100644
--- a/src/core/ext/upb-gen/xds/type/v3/typed_struct.upb_minitable.h
+++ b/src/core/ext/upb-gen/xds/type/v3/typed_struct.upb_minitable.h
@@ -18,7 +18,7 @@
 extern "C" {
 #endif
 
-extern const upb_MiniTable xds__type__v3__TypedStruct_msg_init;
+GRPC_UPBGEN_DLL extern const upb_MiniTable xds__type__v3__TypedStruct_msg_init;
 extern const upb_MiniTable* xds__type__v3__TypedStruct_msg_init_ptr;
 
 extern const upb_MiniTableFile xds_type_v3_typed_struct_proto_upb_file_layout;
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/certs.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/certs.upbdefs.h
index 18f4d0ff54..1d13784eee 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/certs.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/certs.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_certs_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_certs_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_Certificates_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_certs_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/clusters.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/clusters.upbdefs.h
index 17caac6faf..b9e98e9aac 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/clusters.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/clusters.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_clusters_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_clusters_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_Clusters_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_clusters_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/config_dump.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/config_dump.upbdefs.h
index 805ad2bee1..0593b2e421 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/config_dump.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/config_dump.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_config_dump_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_config_dump_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_ConfigDump_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_config_dump_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/config_dump_shared.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/config_dump_shared.upbdefs.h
index ea680b5b21..1fbb4cf17e 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/config_dump_shared.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/config_dump_shared.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_config_dump_shared_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_config_dump_shared_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_UpdateFailureState_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_config_dump_shared_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/init_dump.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/init_dump.upbdefs.h
index ae90b34645..a57da7fef4 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/init_dump.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/init_dump.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_init_dump_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_init_dump_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_UnreadyTargetsDumps_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_init_dump_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/listeners.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/listeners.upbdefs.h
index 9d2094e709..9b4ce2014c 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/listeners.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/listeners.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_listeners_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_listeners_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_Listeners_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_listeners_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/memory.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/memory.upbdefs.h
index 685876f45b..5daad67ff3 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/memory.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/memory.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_memory_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_memory_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_Memory_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_memory_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/metrics.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/metrics.upbdefs.h
index cece2965c4..cacae1b434 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/metrics.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/metrics.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_metrics_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_metrics_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_SimpleMetric_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_metrics_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/mutex_stats.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/mutex_stats.upbdefs.h
index 10ca8d59b6..4c9f006255 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/mutex_stats.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/mutex_stats.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_mutex_stats_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_mutex_stats_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_MutexStats_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_mutex_stats_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/server_info.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/server_info.upbdefs.h
index 5cee7dacdd..630c9f0247 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/server_info.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/server_info.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_server_info_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_server_info_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_ServerInfo_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_server_info_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/admin/v3/tap.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/admin/v3/tap.upbdefs.h
index 98a30d2089..872e0c592f 100644
--- a/src/core/ext/upbdefs-gen/envoy/admin/v3/tap.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/admin/v3/tap.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_admin_v3_tap_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_admin_v3_tap_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_admin_v3_TapRequest_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_admin_v3_tap_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/annotations/deprecation.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/annotations/deprecation.upbdefs.h
index e0bd93e5b0..4390416d68 100644
--- a/src/core/ext/upbdefs-gen/envoy/annotations/deprecation.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/annotations/deprecation.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_annotations_deprecation_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_annotations_deprecation_proto_upbdefinit;
 
 #ifdef __cplusplus
 }  /* extern "C" */
diff --git a/src/core/ext/upbdefs-gen/envoy/annotations/resource.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/annotations/resource.upbdefs.h
index 74dbb77957..b61a8a07d0 100644
--- a/src/core/ext/upbdefs-gen/envoy/annotations/resource.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/annotations/resource.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_annotations_resource_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_annotations_resource_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_annotations_ResourceAnnotation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_annotations_resource_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/accesslog/v3/accesslog.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/accesslog/v3/accesslog.upbdefs.h
index 74789cb5b1..6689a7f499 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/accesslog/v3/accesslog.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/accesslog/v3/accesslog.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_accesslog_v3_accesslog_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_accesslog_v3_accesslog_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_accesslog_v3_AccessLog_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_accesslog_v3_accesslog_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/bootstrap/v3/bootstrap.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/bootstrap/v3/bootstrap.upbdefs.h
index f84fe1b3bd..e0560bc112 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/bootstrap/v3/bootstrap.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/bootstrap/v3/bootstrap.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_bootstrap_v3_bootstrap_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_bootstrap_v3_bootstrap_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_bootstrap_v3_Bootstrap_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_bootstrap_v3_bootstrap_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/circuit_breaker.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/circuit_breaker.upbdefs.h
index 1458f37148..d8ecd610e0 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/circuit_breaker.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/circuit_breaker.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_cluster_v3_circuit_breaker_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_cluster_v3_circuit_breaker_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_cluster_v3_CircuitBreakers_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_cluster_v3_circuit_breaker_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/cluster.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/cluster.upbdefs.h
index a55e408b21..6e889fc415 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/cluster.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/cluster.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_cluster_v3_cluster_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_cluster_v3_cluster_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_cluster_v3_ClusterCollection_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_cluster_v3_cluster_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/filter.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/filter.upbdefs.h
index e61bfddbf2..d3ae85bafe 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/filter.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/filter.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_cluster_v3_filter_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_cluster_v3_filter_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_cluster_v3_Filter_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_cluster_v3_filter_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/outlier_detection.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/outlier_detection.upbdefs.h
index c852757d93..7520b6f988 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/outlier_detection.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/cluster/v3/outlier_detection.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_cluster_v3_outlier_detection_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_cluster_v3_outlier_detection_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_cluster_v3_OutlierDetection_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_cluster_v3_outlier_detection_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/common/matcher/v3/matcher.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/common/matcher/v3/matcher.upbdefs.h
index a833c29a2b..d2f45ca5f6 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/common/matcher/v3/matcher.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/common/matcher/v3/matcher.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_common_matcher_v3_matcher_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_common_matcher_v3_matcher_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_common_matcher_v3_Matcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_common_matcher_v3_matcher_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/address.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/address.upbdefs.h
index 349cbd1a2f..6837dffcff 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/address.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/address.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_address_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_address_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_Pipe_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_address_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/backoff.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/backoff.upbdefs.h
index 4c293523da..10f2d4e8e4 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/backoff.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/backoff.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_backoff_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_backoff_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_BackoffStrategy_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_backoff_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/base.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/base.upbdefs.h
index 4661fd4359..7d889df2a2 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/base.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/base.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_base_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_base_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_Locality_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_base_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/config_source.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/config_source.upbdefs.h
index 8ab7eadb5f..c21e0e0e9c 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/config_source.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/config_source.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_config_source_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_config_source_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_ApiConfigSource_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_config_source_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/event_service_config.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/event_service_config.upbdefs.h
index e6ccd74e27..d9fb724595 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/event_service_config.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/event_service_config.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_event_service_config_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_event_service_config_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_EventServiceConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_event_service_config_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/extension.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/extension.upbdefs.h
index aa5c05449f..f7c0337829 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/extension.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/extension.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_extension_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_extension_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_TypedExtensionConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_extension_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/grpc_method_list.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/grpc_method_list.upbdefs.h
index 1edb55167b..cddaef4ca4 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/grpc_method_list.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/grpc_method_list.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_grpc_method_list_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_grpc_method_list_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_GrpcMethodList_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_grpc_method_list_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/grpc_service.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/grpc_service.upbdefs.h
index 89d492aa37..d1eb277125 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/grpc_service.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/grpc_service.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_grpc_service_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_grpc_service_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_GrpcService_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_grpc_service_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/health_check.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/health_check.upbdefs.h
index 5884c02a67..c1768f0e1c 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/health_check.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/health_check.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_health_check_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_health_check_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_HealthStatusSet_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_health_check_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/http_service.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/http_service.upbdefs.h
index 2cc8489c92..48448ca107 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/http_service.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/http_service.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_http_service_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_http_service_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_HttpService_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_http_service_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/http_uri.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/http_uri.upbdefs.h
index bc15e923d5..fe211da30a 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/http_uri.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/http_uri.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_http_uri_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_http_uri_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_HttpUri_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_http_uri_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/protocol.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/protocol.upbdefs.h
index 1d7c5da838..77157031a3 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/protocol.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/protocol.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_protocol_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_protocol_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_TcpProtocolOptions_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_protocol_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/proxy_protocol.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/proxy_protocol.upbdefs.h
index 9b899cc27b..b0842a3a23 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/proxy_protocol.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/proxy_protocol.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_proxy_protocol_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_proxy_protocol_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_ProxyProtocolPassThroughTLVs_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_proxy_protocol_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/resolver.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/resolver.upbdefs.h
index 2d557070a8..c697c51300 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/resolver.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/resolver.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_resolver_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_resolver_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_DnsResolverOptions_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_resolver_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/socket_option.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/socket_option.upbdefs.h
index 7c69fc1dc8..b17943ff05 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/socket_option.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/socket_option.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_socket_option_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_socket_option_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_SocketOption_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_socket_option_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/substitution_format_string.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/substitution_format_string.upbdefs.h
index f40503ba3a..199fb81e28 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/substitution_format_string.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/substitution_format_string.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_substitution_format_string_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_substitution_format_string_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_JsonFormatOptions_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_substitution_format_string_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/core/v3/udp_socket_config.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/core/v3/udp_socket_config.upbdefs.h
index 53669e73e5..ba3a965418 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/core/v3/udp_socket_config.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/core/v3/udp_socket_config.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_core_v3_udp_socket_config_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_core_v3_udp_socket_config_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_core_v3_UdpSocketConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_core_v3_udp_socket_config_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/endpoint.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/endpoint.upbdefs.h
index c6243b29ba..c5bca9a85b 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/endpoint.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/endpoint.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_endpoint_v3_endpoint_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_endpoint_v3_endpoint_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_endpoint_v3_ClusterLoadAssignment_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_endpoint_v3_endpoint_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/endpoint_components.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/endpoint_components.upbdefs.h
index 50a598fef6..2b71a75e27 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/endpoint_components.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/endpoint_components.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_endpoint_v3_endpoint_components_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_endpoint_v3_endpoint_components_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_endpoint_v3_Endpoint_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_endpoint_v3_endpoint_components_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/load_report.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/load_report.upbdefs.h
index 60839fe5c1..f0855b0ac5 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/load_report.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/endpoint/v3/load_report.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_endpoint_v3_load_report_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_endpoint_v3_load_report_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_endpoint_v3_UpstreamLocalityStats_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_endpoint_v3_load_report_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/api_listener.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/api_listener.upbdefs.h
index 9d97fdbce8..57f8b4abc3 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/api_listener.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/api_listener.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_listener_v3_api_listener_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_listener_v3_api_listener_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_listener_v3_ApiListener_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_listener_v3_api_listener_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/listener.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/listener.upbdefs.h
index c842ac2664..2412047200 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/listener.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/listener.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_listener_v3_listener_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_listener_v3_listener_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_listener_v3_AdditionalAddress_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_listener_v3_listener_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/listener_components.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/listener_components.upbdefs.h
index 7e4d04e850..5f96e520b9 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/listener_components.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/listener_components.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_listener_v3_listener_components_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_listener_v3_listener_components_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_listener_v3_Filter_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_listener_v3_listener_components_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/quic_config.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/quic_config.upbdefs.h
index 9ebdd236b9..ffc760b4de 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/quic_config.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/quic_config.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_listener_v3_quic_config_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_listener_v3_quic_config_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_listener_v3_QuicProtocolOptions_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_listener_v3_quic_config_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/udp_listener_config.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/udp_listener_config.upbdefs.h
index e94ff22230..bda7b75a02 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/listener/v3/udp_listener_config.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/listener/v3/udp_listener_config.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_listener_v3_udp_listener_config_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_listener_v3_udp_listener_config_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_listener_v3_UdpListenerConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_listener_v3_udp_listener_config_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/metrics/v3/metrics_service.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/metrics/v3/metrics_service.upbdefs.h
index ce61514667..40b3c76205 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/metrics/v3/metrics_service.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/metrics/v3/metrics_service.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_metrics_v3_metrics_service_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_metrics_v3_metrics_service_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_metrics_v3_MetricsServiceConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_metrics_v3_metrics_service_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/metrics/v3/stats.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/metrics/v3/stats.upbdefs.h
index bb5750d32f..0c1b91d39a 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/metrics/v3/stats.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/metrics/v3/stats.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_metrics_v3_stats_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_metrics_v3_stats_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_metrics_v3_StatsSink_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_metrics_v3_stats_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/overload/v3/overload.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/overload/v3/overload.upbdefs.h
index 134f95387d..dd4cfb3b2b 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/overload/v3/overload.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/overload/v3/overload.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_overload_v3_overload_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_overload_v3_overload_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_overload_v3_ResourceMonitor_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_overload_v3_overload_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/rbac/v3/rbac.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/rbac/v3/rbac.upbdefs.h
index 2a7ab7ec46..ef00c8095f 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/rbac/v3/rbac.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/rbac/v3/rbac.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_rbac_v3_rbac_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_rbac_v3_rbac_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_rbac_v3_RBAC_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_rbac_v3_rbac_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/route/v3/route.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/route/v3/route.upbdefs.h
index fcd71eb804..05945f49b1 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/route/v3/route.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/route/v3/route.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_route_v3_route_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_route_v3_route_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_route_v3_RouteConfiguration_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_route_v3_route_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/route/v3/route_components.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/route/v3/route_components.upbdefs.h
index a472e61399..beb31e7678 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/route/v3/route_components.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/route/v3/route_components.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_route_v3_route_components_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_route_v3_route_components_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_route_v3_VirtualHost_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_route_v3_route_components_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/route/v3/scoped_route.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/route/v3/scoped_route.upbdefs.h
index 2657f3cb22..04b8185a61 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/route/v3/scoped_route.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/route/v3/scoped_route.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_route_v3_scoped_route_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_route_v3_scoped_route_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_route_v3_ScopedRouteConfiguration_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_route_v3_scoped_route_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/tap/v3/common.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/tap/v3/common.upbdefs.h
index 121ab876ac..be6c2df87b 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/tap/v3/common.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/tap/v3/common.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_tap_v3_common_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_tap_v3_common_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_tap_v3_TapConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_tap_v3_common_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/datadog.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/datadog.upbdefs.h
index 6fbc8e8db4..bdcf679131 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/datadog.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/datadog.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_datadog_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_datadog_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_DatadogRemoteConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_datadog_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/dynamic_ot.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/dynamic_ot.upbdefs.h
index fd843bb65e..d0c48d2f51 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/dynamic_ot.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/dynamic_ot.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_dynamic_ot_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_dynamic_ot_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_DynamicOtConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_dynamic_ot_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/http_tracer.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/http_tracer.upbdefs.h
index 89bf42fd38..4bacac5bd0 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/http_tracer.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/http_tracer.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_http_tracer_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_http_tracer_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_Tracing_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_http_tracer_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/lightstep.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/lightstep.upbdefs.h
index 185a564cfc..bd01b5d4fc 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/lightstep.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/lightstep.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_lightstep_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_lightstep_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_LightstepConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_lightstep_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/opencensus.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/opencensus.upbdefs.h
index 0189f7768b..b1969749b3 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/opencensus.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/opencensus.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_opencensus_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_opencensus_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_OpenCensusConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_opencensus_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/opentelemetry.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/opentelemetry.upbdefs.h
index c61e6e042d..7c03257169 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/opentelemetry.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/opentelemetry.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_opentelemetry_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_opentelemetry_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_OpenTelemetryConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_opentelemetry_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/service.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/service.upbdefs.h
index 5c76a63594..8362269c4d 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/service.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/service.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_service_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_service_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_TraceServiceConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_service_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/skywalking.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/skywalking.upbdefs.h
index 149bb51877..74653a2fda 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/skywalking.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/skywalking.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_skywalking_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_skywalking_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_SkyWalkingConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_skywalking_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/trace.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/trace.upbdefs.h
index 9c3bba8895..e6c5ff198c 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/trace.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/trace.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_trace_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_trace_proto_upbdefinit;
 
 #ifdef __cplusplus
 }  /* extern "C" */
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/xray.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/xray.upbdefs.h
index 33b2e3a3cd..04381d8113 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/xray.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/xray.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_xray_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_xray_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_XRayConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_xray_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/zipkin.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/zipkin.upbdefs.h
index e5be3b8e8d..129c51898c 100644
--- a/src/core/ext/upbdefs-gen/envoy/config/trace/v3/zipkin.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/config/trace/v3/zipkin.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_config_trace_v3_zipkin_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_config_trace_v3_zipkin_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_config_trace_v3_ZipkinConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_config_trace_v3_zipkin_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/data/accesslog/v3/accesslog.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/data/accesslog/v3/accesslog.upbdefs.h
index 00d5c41fab..3a48e82f8e 100644
--- a/src/core/ext/upbdefs-gen/envoy/data/accesslog/v3/accesslog.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/data/accesslog/v3/accesslog.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_data_accesslog_v3_accesslog_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_data_accesslog_v3_accesslog_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_data_accesslog_v3_TCPAccessLogEntry_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_data_accesslog_v3_accesslog_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/clusters/aggregate/v3/cluster.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/clusters/aggregate/v3/cluster.upbdefs.h
index bbe83db884..94d99d446b 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/clusters/aggregate/v3/cluster.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/clusters/aggregate/v3/cluster.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_clusters_aggregate_v3_cluster_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_clusters_aggregate_v3_cluster_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_clusters_aggregate_v3_ClusterConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_clusters_aggregate_v3_cluster_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/filters/common/fault/v3/fault.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/filters/common/fault/v3/fault.upbdefs.h
index 138385ac38..97ed74c5c1 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/filters/common/fault/v3/fault.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/filters/common/fault/v3/fault.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_filters_common_fault_v3_fault_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_filters_common_fault_v3_fault_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_filters_common_fault_v3_FaultDelay_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_filters_common_fault_v3_fault_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/fault/v3/fault.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/fault/v3/fault.upbdefs.h
index 1e6cd7af02..0c93809ac1 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/fault/v3/fault.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/fault/v3/fault.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_filters_http_fault_v3_fault_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_filters_http_fault_v3_fault_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_filters_http_fault_v3_FaultAbort_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_filters_http_fault_v3_fault_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/gcp_authn/v3/gcp_authn.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/gcp_authn/v3/gcp_authn.upbdefs.h
index 6c258e3032..94b80c9c75 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/gcp_authn/v3/gcp_authn.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/gcp_authn/v3/gcp_authn.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_filters_http_gcp_authn_v3_gcp_authn_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_filters_http_gcp_authn_v3_gcp_authn_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_filters_http_gcp_authn_v3_GcpAuthnFilterConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_filters_http_gcp_authn_v3_gcp_authn_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/rbac/v3/rbac.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/rbac/v3/rbac.upbdefs.h
index ef568185a4..e61bae5256 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/rbac/v3/rbac.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/rbac/v3/rbac.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_filters_http_rbac_v3_rbac_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_filters_http_rbac_v3_rbac_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_filters_http_rbac_v3_RBAC_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_filters_http_rbac_v3_rbac_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/router/v3/router.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/router/v3/router.upbdefs.h
index 548be8ea6e..35fbe05188 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/router/v3/router.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/router/v3/router.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_filters_http_router_v3_router_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_filters_http_router_v3_router_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_filters_http_router_v3_Router_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_filters_http_router_v3_router_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/stateful_session/v3/stateful_session.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/stateful_session/v3/stateful_session.upbdefs.h
index c92a427db5..34f6d007e1 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/stateful_session/v3/stateful_session.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/filters/http/stateful_session/v3/stateful_session.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_filters_http_stateful_session_v3_stateful_session_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_filters_http_stateful_session_v3_stateful_session_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_filters_http_stateful_session_v3_StatefulSession_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_filters_http_stateful_session_v3_stateful_session_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/filters/network/http_connection_manager/v3/http_connection_manager.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/filters/network/http_connection_manager/v3/http_connection_manager.upbdefs.h
index 6f7f93746b..ceac0fedb1 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/filters/network/http_connection_manager/v3/http_connection_manager.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/filters/network/http_connection_manager/v3/http_connection_manager.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_filters_network_http_connection_manager_v3_http_connection_manager_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_filters_network_http_connection_manager_v3_http_connection_manager_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_filters_network_http_connection_manager_v3_HttpConnectionManager_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_filters_network_http_connection_manager_v3_http_connection_manager_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/http/stateful_session/cookie/v3/cookie.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/http/stateful_session/cookie/v3/cookie.upbdefs.h
index 7fcfcc1f1f..7d9b190a2a 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/http/stateful_session/cookie/v3/cookie.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/http/stateful_session/cookie/v3/cookie.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_http_stateful_session_cookie_v3_cookie_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_http_stateful_session_cookie_v3_cookie_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_http_stateful_session_cookie_v3_CookieBasedSessionState_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_http_stateful_session_cookie_v3_cookie_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/http_11_proxy/v3/upstream_http_11_connect.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/http_11_proxy/v3/upstream_http_11_connect.upbdefs.h
index 3c1cd2ac9f..cddf005db8 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/http_11_proxy/v3/upstream_http_11_connect.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/http_11_proxy/v3/upstream_http_11_connect.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_transport_sockets_http_11_proxy_v3_upstream_http_11_connect_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_transport_sockets_http_11_proxy_v3_upstream_http_11_connect_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_transport_sockets_http_11_proxy_v3_Http11ProxyUpstreamTransport_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_transport_sockets_http_11_proxy_v3_upstream_http_11_connect_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/cert.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/cert.upbdefs.h
index 780d4f3e95..f42e52c4c3 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/cert.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/cert.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_cert_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_cert_proto_upbdefinit;
 
 #ifdef __cplusplus
 }  /* extern "C" */
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/common.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/common.upbdefs.h
index a216ab2b18..5c539abed3 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/common.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/common.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_common_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_common_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_transport_sockets_tls_v3_TlsParameters_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_transport_sockets_tls_v3_common_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/secret.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/secret.upbdefs.h
index 6e4beed177..8b4c27e335 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/secret.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/secret.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_secret_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_secret_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_transport_sockets_tls_v3_GenericSecret_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_transport_sockets_tls_v3_secret_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/tls.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/tls.upbdefs.h
index 12914bf3fb..5fcb1cfdae 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/tls.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/tls.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_tls_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_tls_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_transport_sockets_tls_v3_UpstreamTlsContext_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_transport_sockets_tls_v3_tls_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/tls_spiffe_validator_config.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/tls_spiffe_validator_config.upbdefs.h
index 1433f5673c..6c01676a9b 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/tls_spiffe_validator_config.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/transport_sockets/tls/v3/tls_spiffe_validator_config.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_tls_spiffe_validator_config_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_transport_sockets_tls_v3_tls_spiffe_validator_config_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_transport_sockets_tls_v3_SPIFFECertValidatorConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_transport_sockets_tls_v3_tls_spiffe_validator_config_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/extensions/upstreams/http/v3/http_protocol_options.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/extensions/upstreams/http/v3/http_protocol_options.upbdefs.h
index 768925b4e5..9305c3dfe4 100644
--- a/src/core/ext/upbdefs-gen/envoy/extensions/upstreams/http/v3/http_protocol_options.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/extensions/upstreams/http/v3/http_protocol_options.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_extensions_upstreams_http_v3_http_protocol_options_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_extensions_upstreams_http_v3_http_protocol_options_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_extensions_upstreams_http_v3_HttpProtocolOptions_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_extensions_upstreams_http_v3_http_protocol_options_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/service/discovery/v3/ads.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/service/discovery/v3/ads.upbdefs.h
index 527aa93bbc..669185f071 100644
--- a/src/core/ext/upbdefs-gen/envoy/service/discovery/v3/ads.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/service/discovery/v3/ads.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_service_discovery_v3_ads_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_service_discovery_v3_ads_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_service_discovery_v3_AdsDummy_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_service_discovery_v3_ads_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/service/discovery/v3/discovery.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/service/discovery/v3/discovery.upbdefs.h
index 7441379d71..0379cc9f79 100644
--- a/src/core/ext/upbdefs-gen/envoy/service/discovery/v3/discovery.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/service/discovery/v3/discovery.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_service_discovery_v3_discovery_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_service_discovery_v3_discovery_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_service_discovery_v3_ResourceLocator_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_service_discovery_v3_discovery_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/service/load_stats/v3/lrs.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/service/load_stats/v3/lrs.upbdefs.h
index 143f2805ef..5f9c964e60 100644
--- a/src/core/ext/upbdefs-gen/envoy/service/load_stats/v3/lrs.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/service/load_stats/v3/lrs.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_service_load_stats_v3_lrs_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_service_load_stats_v3_lrs_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_service_load_stats_v3_LoadStatsRequest_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_service_load_stats_v3_lrs_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/service/status/v3/csds.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/service/status/v3/csds.upbdefs.h
index f661a0ff48..ed6d411e0e 100644
--- a/src/core/ext/upbdefs-gen/envoy/service/status/v3/csds.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/service/status/v3/csds.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_service_status_v3_csds_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_service_status_v3_csds_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_service_status_v3_ClientStatusRequest_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_service_status_v3_csds_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/http/v3/cookie.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/http/v3/cookie.upbdefs.h
index 056e5bb985..cb2b8a7918 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/http/v3/cookie.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/http/v3/cookie.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_http_v3_cookie_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_http_v3_cookie_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_http_v3_Cookie_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_http_v3_cookie_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/http/v3/path_transformation.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/http/v3/path_transformation.upbdefs.h
index 56075fa940..8e85f3790d 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/http/v3/path_transformation.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/http/v3/path_transformation.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_http_v3_path_transformation_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_http_v3_path_transformation_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_http_v3_PathTransformation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_http_v3_path_transformation_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/filter_state.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/filter_state.upbdefs.h
index 48c4b106e9..6f5aae2b6c 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/filter_state.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/filter_state.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_filter_state_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_filter_state_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_FilterStateMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_filter_state_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/http_inputs.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/http_inputs.upbdefs.h
index 53e3249df7..1cf212d443 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/http_inputs.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/http_inputs.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_http_inputs_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_http_inputs_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_HttpRequestHeaderMatchInput_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_http_inputs_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/metadata.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/metadata.upbdefs.h
index e6dc5337d1..05f3f210d7 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/metadata.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/metadata.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_metadata_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_metadata_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_MetadataMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_metadata_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/node.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/node.upbdefs.h
index cf560b36c4..fe4b0ce68c 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/node.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/node.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_node_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_node_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_NodeMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_node_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/number.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/number.upbdefs.h
index d2daa0ddd4..086b603857 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/number.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/number.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_number_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_number_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_DoubleMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_number_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/path.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/path.upbdefs.h
index 2f06e59fa2..aa3f3b668c 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/path.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/path.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_path_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_path_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_PathMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_path_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/regex.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/regex.upbdefs.h
index c73630367b..1a8f1922e9 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/regex.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/regex.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_regex_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_regex_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_RegexMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_regex_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/status_code_input.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/status_code_input.upbdefs.h
index b05939d3e8..33d7211735 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/status_code_input.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/status_code_input.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_status_code_input_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_status_code_input_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_HttpResponseStatusCodeMatchInput_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_status_code_input_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/string.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/string.upbdefs.h
index 7c983e6a6c..e09df9bc9c 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/string.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/string.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_string_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_string_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_StringMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_string_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/struct.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/struct.upbdefs.h
index 100ce3c152..53aa53f7d3 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/struct.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/struct.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_struct_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_struct_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_StructMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_struct_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/value.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/value.upbdefs.h
index 592875d220..87ccdfdc1f 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/value.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/matcher/v3/value.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_matcher_v3_value_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_matcher_v3_value_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_matcher_v3_ValueMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_matcher_v3_value_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/metadata/v3/metadata.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/metadata/v3/metadata.upbdefs.h
index 4b64e5a564..797f28950f 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/metadata/v3/metadata.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/metadata/v3/metadata.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_metadata_v3_metadata_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_metadata_v3_metadata_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_metadata_v3_MetadataKey_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_metadata_v3_metadata_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/tracing/v3/custom_tag.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/tracing/v3/custom_tag.upbdefs.h
index 69ebb0f2a7..e6437dab31 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/tracing/v3/custom_tag.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/tracing/v3/custom_tag.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_tracing_v3_custom_tag_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_tracing_v3_custom_tag_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_tracing_v3_CustomTag_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_tracing_v3_custom_tag_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/v3/hash_policy.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/v3/hash_policy.upbdefs.h
index 6e03c0b164..b491de617d 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/v3/hash_policy.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/v3/hash_policy.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_v3_hash_policy_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_v3_hash_policy_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_v3_HashPolicy_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_v3_hash_policy_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/v3/http.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/v3/http.upbdefs.h
index 62b6e46051..859da7af97 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/v3/http.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/v3/http.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_v3_http_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_v3_http_proto_upbdefinit;
 
 #ifdef __cplusplus
 }  /* extern "C" */
diff --git a/src/core/ext/upbdefs-gen/envoy/type/v3/http_status.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/v3/http_status.upbdefs.h
index 3387450d27..05b0c65504 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/v3/http_status.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/v3/http_status.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_v3_http_status_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_v3_http_status_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_v3_HttpStatus_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_v3_http_status_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/v3/percent.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/v3/percent.upbdefs.h
index 0bce51053b..8a3d32b773 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/v3/percent.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/v3/percent.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_v3_percent_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_v3_percent_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_v3_Percent_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_v3_percent_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/v3/range.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/v3/range.upbdefs.h
index 47c5d2440e..8cdf770693 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/v3/range.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/v3/range.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_v3_range_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_v3_range_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_v3_Int64Range_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_v3_range_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/v3/ratelimit_strategy.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/v3/ratelimit_strategy.upbdefs.h
index 891fa45177..aa7fd484f1 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/v3/ratelimit_strategy.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/v3/ratelimit_strategy.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_v3_ratelimit_strategy_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_v3_ratelimit_strategy_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_v3_RateLimitStrategy_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_v3_ratelimit_strategy_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/v3/ratelimit_unit.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/v3/ratelimit_unit.upbdefs.h
index e2c335da67..1c1e7c1c95 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/v3/ratelimit_unit.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/v3/ratelimit_unit.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_v3_ratelimit_unit_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_v3_ratelimit_unit_proto_upbdefinit;
 
 #ifdef __cplusplus
 }  /* extern "C" */
diff --git a/src/core/ext/upbdefs-gen/envoy/type/v3/semantic_version.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/v3/semantic_version.upbdefs.h
index e9660836d0..32e0f22cd7 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/v3/semantic_version.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/v3/semantic_version.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_v3_semantic_version_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_v3_semantic_version_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_v3_SemanticVersion_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_v3_semantic_version_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/envoy/type/v3/token_bucket.upbdefs.h b/src/core/ext/upbdefs-gen/envoy/type/v3/token_bucket.upbdefs.h
index dc7f4524d3..0f247902e6 100644
--- a/src/core/ext/upbdefs-gen/envoy/type/v3/token_bucket.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/envoy/type/v3/token_bucket.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init envoy_type_v3_token_bucket_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init envoy_type_v3_token_bucket_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *envoy_type_v3_TokenBucket_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &envoy_type_v3_token_bucket_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/api/annotations.upbdefs.h b/src/core/ext/upbdefs-gen/google/api/annotations.upbdefs.h
index b717df0519..a7ad5ca85d 100644
--- a/src/core/ext/upbdefs-gen/google/api/annotations.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/api/annotations.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_api_annotations_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_api_annotations_proto_upbdefinit;
 
 #ifdef __cplusplus
 }  /* extern "C" */
diff --git a/src/core/ext/upbdefs-gen/google/api/expr/v1alpha1/checked.upbdefs.h b/src/core/ext/upbdefs-gen/google/api/expr/v1alpha1/checked.upbdefs.h
index 34f23dd5cb..cfe8908f3d 100644
--- a/src/core/ext/upbdefs-gen/google/api/expr/v1alpha1/checked.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/api/expr/v1alpha1/checked.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_api_expr_v1alpha1_checked_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_api_expr_v1alpha1_checked_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_api_expr_v1alpha1_CheckedExpr_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_api_expr_v1alpha1_checked_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/api/expr/v1alpha1/syntax.upbdefs.h b/src/core/ext/upbdefs-gen/google/api/expr/v1alpha1/syntax.upbdefs.h
index a3e7c1520b..9d4fcb0e0a 100644
--- a/src/core/ext/upbdefs-gen/google/api/expr/v1alpha1/syntax.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/api/expr/v1alpha1/syntax.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_api_expr_v1alpha1_syntax_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_api_expr_v1alpha1_syntax_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_api_expr_v1alpha1_ParsedExpr_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_api_expr_v1alpha1_syntax_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/api/http.upbdefs.h b/src/core/ext/upbdefs-gen/google/api/http.upbdefs.h
index b3b35d1343..c9ca639e97 100644
--- a/src/core/ext/upbdefs-gen/google/api/http.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/api/http.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_api_http_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_api_http_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_api_Http_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_api_http_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/api/httpbody.upbdefs.h b/src/core/ext/upbdefs-gen/google/api/httpbody.upbdefs.h
index 61f67418c8..e1bf61cc9c 100644
--- a/src/core/ext/upbdefs-gen/google/api/httpbody.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/api/httpbody.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_api_httpbody_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_api_httpbody_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_api_HttpBody_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_api_httpbody_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/protobuf/any.upbdefs.h b/src/core/ext/upbdefs-gen/google/protobuf/any.upbdefs.h
index 95fd3669bf..e1625c1b9a 100644
--- a/src/core/ext/upbdefs-gen/google/protobuf/any.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/protobuf/any.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_protobuf_any_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_protobuf_any_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_protobuf_Any_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_protobuf_any_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/protobuf/descriptor.upbdefs.h b/src/core/ext/upbdefs-gen/google/protobuf/descriptor.upbdefs.h
index 02414587a3..0b8cf5e7ab 100644
--- a/src/core/ext/upbdefs-gen/google/protobuf/descriptor.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/protobuf/descriptor.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_protobuf_descriptor_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_protobuf_descriptor_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_protobuf_FileDescriptorSet_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_protobuf_descriptor_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/protobuf/duration.upbdefs.h b/src/core/ext/upbdefs-gen/google/protobuf/duration.upbdefs.h
index 6743e8a046..e0cdbc84a9 100644
--- a/src/core/ext/upbdefs-gen/google/protobuf/duration.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/protobuf/duration.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_protobuf_duration_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_protobuf_duration_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_protobuf_Duration_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_protobuf_duration_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/protobuf/empty.upbdefs.h b/src/core/ext/upbdefs-gen/google/protobuf/empty.upbdefs.h
index 6b54cbce97..e5f65315af 100644
--- a/src/core/ext/upbdefs-gen/google/protobuf/empty.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/protobuf/empty.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_protobuf_empty_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_protobuf_empty_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_protobuf_Empty_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_protobuf_empty_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/protobuf/struct.upbdefs.h b/src/core/ext/upbdefs-gen/google/protobuf/struct.upbdefs.h
index b8a6518e70..2e4854193f 100644
--- a/src/core/ext/upbdefs-gen/google/protobuf/struct.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/protobuf/struct.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_protobuf_struct_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_protobuf_struct_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_protobuf_Struct_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_protobuf_struct_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/protobuf/timestamp.upbdefs.h b/src/core/ext/upbdefs-gen/google/protobuf/timestamp.upbdefs.h
index 3acd215c91..96bfc8a576 100644
--- a/src/core/ext/upbdefs-gen/google/protobuf/timestamp.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/protobuf/timestamp.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_protobuf_timestamp_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_protobuf_timestamp_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_protobuf_Timestamp_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_protobuf_timestamp_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/protobuf/wrappers.upbdefs.h b/src/core/ext/upbdefs-gen/google/protobuf/wrappers.upbdefs.h
index 03b213600d..6818159690 100644
--- a/src/core/ext/upbdefs-gen/google/protobuf/wrappers.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/protobuf/wrappers.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_protobuf_wrappers_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_protobuf_wrappers_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_protobuf_DoubleValue_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_protobuf_wrappers_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/google/rpc/status.upbdefs.h b/src/core/ext/upbdefs-gen/google/rpc/status.upbdefs.h
index 346a141348..9e9c83d621 100644
--- a/src/core/ext/upbdefs-gen/google/rpc/status.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/google/rpc/status.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init google_rpc_status_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init google_rpc_status_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *google_rpc_Status_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &google_rpc_status_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/opencensus/proto/trace/v1/trace_config.upbdefs.h b/src/core/ext/upbdefs-gen/opencensus/proto/trace/v1/trace_config.upbdefs.h
index b3dde7ab14..233cd5fcdd 100644
--- a/src/core/ext/upbdefs-gen/opencensus/proto/trace/v1/trace_config.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/opencensus/proto/trace/v1/trace_config.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init opencensus_proto_trace_v1_trace_config_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init opencensus_proto_trace_v1_trace_config_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *opencensus_proto_trace_v1_TraceConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &opencensus_proto_trace_v1_trace_config_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/src/proto/grpc/lookup/v1/rls_config.upbdefs.h b/src/core/ext/upbdefs-gen/src/proto/grpc/lookup/v1/rls_config.upbdefs.h
index 16458a64df..bb18121588 100644
--- a/src/core/ext/upbdefs-gen/src/proto/grpc/lookup/v1/rls_config.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/src/proto/grpc/lookup/v1/rls_config.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init src_proto_grpc_lookup_v1_rls_config_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init src_proto_grpc_lookup_v1_rls_config_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *grpc_lookup_v1_NameMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &src_proto_grpc_lookup_v1_rls_config_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/udpa/annotations/migrate.upbdefs.h b/src/core/ext/upbdefs-gen/udpa/annotations/migrate.upbdefs.h
index a91f76f144..5f21e41c6b 100644
--- a/src/core/ext/upbdefs-gen/udpa/annotations/migrate.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/udpa/annotations/migrate.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init udpa_annotations_migrate_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init udpa_annotations_migrate_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *udpa_annotations_MigrateAnnotation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &udpa_annotations_migrate_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/udpa/annotations/security.upbdefs.h b/src/core/ext/upbdefs-gen/udpa/annotations/security.upbdefs.h
index 089b5e96e0..2d838042c7 100644
--- a/src/core/ext/upbdefs-gen/udpa/annotations/security.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/udpa/annotations/security.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init udpa_annotations_security_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init udpa_annotations_security_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *udpa_annotations_FieldSecurityAnnotation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &udpa_annotations_security_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/udpa/annotations/sensitive.upbdefs.h b/src/core/ext/upbdefs-gen/udpa/annotations/sensitive.upbdefs.h
index f35f083f75..5acfaac401 100644
--- a/src/core/ext/upbdefs-gen/udpa/annotations/sensitive.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/udpa/annotations/sensitive.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init udpa_annotations_sensitive_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init udpa_annotations_sensitive_proto_upbdefinit;
 
 #ifdef __cplusplus
 }  /* extern "C" */
diff --git a/src/core/ext/upbdefs-gen/udpa/annotations/status.upbdefs.h b/src/core/ext/upbdefs-gen/udpa/annotations/status.upbdefs.h
index 163627d711..e293eecba6 100644
--- a/src/core/ext/upbdefs-gen/udpa/annotations/status.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/udpa/annotations/status.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init udpa_annotations_status_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init udpa_annotations_status_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *udpa_annotations_StatusAnnotation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &udpa_annotations_status_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/udpa/annotations/versioning.upbdefs.h b/src/core/ext/upbdefs-gen/udpa/annotations/versioning.upbdefs.h
index 47b26cfa1a..4c5631bfa9 100644
--- a/src/core/ext/upbdefs-gen/udpa/annotations/versioning.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/udpa/annotations/versioning.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init udpa_annotations_versioning_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init udpa_annotations_versioning_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *udpa_annotations_VersioningAnnotation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &udpa_annotations_versioning_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/validate/validate.upbdefs.h b/src/core/ext/upbdefs-gen/validate/validate.upbdefs.h
index afe2383041..331ba945c9 100644
--- a/src/core/ext/upbdefs-gen/validate/validate.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/validate/validate.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init validate_validate_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init validate_validate_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *validate_FieldRules_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &validate_validate_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/annotations/v3/migrate.upbdefs.h b/src/core/ext/upbdefs-gen/xds/annotations/v3/migrate.upbdefs.h
index 2f6053f702..c5cc5974bb 100644
--- a/src/core/ext/upbdefs-gen/xds/annotations/v3/migrate.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/annotations/v3/migrate.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_annotations_v3_migrate_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_annotations_v3_migrate_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_annotations_v3_MigrateAnnotation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_annotations_v3_migrate_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/annotations/v3/security.upbdefs.h b/src/core/ext/upbdefs-gen/xds/annotations/v3/security.upbdefs.h
index 0e63a877d3..2b01f8df4a 100644
--- a/src/core/ext/upbdefs-gen/xds/annotations/v3/security.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/annotations/v3/security.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_annotations_v3_security_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_annotations_v3_security_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_annotations_v3_FieldSecurityAnnotation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_annotations_v3_security_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/annotations/v3/sensitive.upbdefs.h b/src/core/ext/upbdefs-gen/xds/annotations/v3/sensitive.upbdefs.h
index eaa10bf683..49b1e0fc17 100644
--- a/src/core/ext/upbdefs-gen/xds/annotations/v3/sensitive.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/annotations/v3/sensitive.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_annotations_v3_sensitive_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_annotations_v3_sensitive_proto_upbdefinit;
 
 #ifdef __cplusplus
 }  /* extern "C" */
diff --git a/src/core/ext/upbdefs-gen/xds/annotations/v3/status.upbdefs.h b/src/core/ext/upbdefs-gen/xds/annotations/v3/status.upbdefs.h
index e545a68565..1630dd6658 100644
--- a/src/core/ext/upbdefs-gen/xds/annotations/v3/status.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/annotations/v3/status.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_annotations_v3_status_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_annotations_v3_status_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_annotations_v3_FileStatusAnnotation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_annotations_v3_status_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/annotations/v3/versioning.upbdefs.h b/src/core/ext/upbdefs-gen/xds/annotations/v3/versioning.upbdefs.h
index 1253c730d6..427054f66f 100644
--- a/src/core/ext/upbdefs-gen/xds/annotations/v3/versioning.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/annotations/v3/versioning.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_annotations_v3_versioning_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_annotations_v3_versioning_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_annotations_v3_VersioningAnnotation_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_annotations_v3_versioning_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/core/v3/authority.upbdefs.h b/src/core/ext/upbdefs-gen/xds/core/v3/authority.upbdefs.h
index 76c1e3060a..1fce366b4e 100644
--- a/src/core/ext/upbdefs-gen/xds/core/v3/authority.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/core/v3/authority.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_core_v3_authority_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_core_v3_authority_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_core_v3_Authority_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_core_v3_authority_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/core/v3/cidr.upbdefs.h b/src/core/ext/upbdefs-gen/xds/core/v3/cidr.upbdefs.h
index 97c527270a..7ee7787786 100644
--- a/src/core/ext/upbdefs-gen/xds/core/v3/cidr.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/core/v3/cidr.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_core_v3_cidr_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_core_v3_cidr_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_core_v3_CidrRange_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_core_v3_cidr_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/core/v3/collection_entry.upbdefs.h b/src/core/ext/upbdefs-gen/xds/core/v3/collection_entry.upbdefs.h
index 4f3607b54c..204387a8b8 100644
--- a/src/core/ext/upbdefs-gen/xds/core/v3/collection_entry.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/core/v3/collection_entry.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_core_v3_collection_entry_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_core_v3_collection_entry_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_core_v3_CollectionEntry_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_core_v3_collection_entry_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/core/v3/context_params.upbdefs.h b/src/core/ext/upbdefs-gen/xds/core/v3/context_params.upbdefs.h
index 833e084349..4d79b68135 100644
--- a/src/core/ext/upbdefs-gen/xds/core/v3/context_params.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/core/v3/context_params.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_core_v3_context_params_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_core_v3_context_params_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_core_v3_ContextParams_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_core_v3_context_params_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/core/v3/extension.upbdefs.h b/src/core/ext/upbdefs-gen/xds/core/v3/extension.upbdefs.h
index 1ce988907c..35f768ef8e 100644
--- a/src/core/ext/upbdefs-gen/xds/core/v3/extension.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/core/v3/extension.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_core_v3_extension_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_core_v3_extension_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_core_v3_TypedExtensionConfig_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_core_v3_extension_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/core/v3/resource.upbdefs.h b/src/core/ext/upbdefs-gen/xds/core/v3/resource.upbdefs.h
index cdd7bc5cbe..bb82314d1e 100644
--- a/src/core/ext/upbdefs-gen/xds/core/v3/resource.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/core/v3/resource.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_core_v3_resource_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_core_v3_resource_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_core_v3_Resource_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_core_v3_resource_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/core/v3/resource_locator.upbdefs.h b/src/core/ext/upbdefs-gen/xds/core/v3/resource_locator.upbdefs.h
index dc43f98781..5ddfc8fb41 100644
--- a/src/core/ext/upbdefs-gen/xds/core/v3/resource_locator.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/core/v3/resource_locator.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_core_v3_resource_locator_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_core_v3_resource_locator_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_core_v3_ResourceLocator_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_core_v3_resource_locator_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/core/v3/resource_name.upbdefs.h b/src/core/ext/upbdefs-gen/xds/core/v3/resource_name.upbdefs.h
index 019b946ccb..3a7a8b5d7c 100644
--- a/src/core/ext/upbdefs-gen/xds/core/v3/resource_name.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/core/v3/resource_name.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_core_v3_resource_name_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_core_v3_resource_name_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_core_v3_ResourceName_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_core_v3_resource_name_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/cel.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/cel.upbdefs.h
index 9fd606f5c1..8f9517ead9 100644
--- a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/cel.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/cel.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_matcher_v3_cel_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_matcher_v3_cel_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_matcher_v3_CelMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_matcher_v3_cel_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/domain.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/domain.upbdefs.h
index 390cd0ec89..b26e5e3566 100644
--- a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/domain.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/domain.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_matcher_v3_domain_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_matcher_v3_domain_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_matcher_v3_ServerNameMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_matcher_v3_domain_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/http_inputs.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/http_inputs.upbdefs.h
index aa89b4517b..e91a04ed2b 100644
--- a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/http_inputs.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/http_inputs.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_matcher_v3_http_inputs_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_matcher_v3_http_inputs_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_matcher_v3_HttpAttributesCelMatchInput_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_matcher_v3_http_inputs_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/ip.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/ip.upbdefs.h
index 4772d3247a..f2a9214c27 100644
--- a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/ip.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/ip.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_matcher_v3_ip_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_matcher_v3_ip_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_matcher_v3_IPMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_matcher_v3_ip_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/matcher.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/matcher.upbdefs.h
index 389cebb5f6..fccbd2a7a6 100644
--- a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/matcher.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/matcher.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_matcher_v3_matcher_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_matcher_v3_matcher_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_matcher_v3_Matcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_matcher_v3_matcher_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/range.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/range.upbdefs.h
index bc3a84c93a..7829a26159 100644
--- a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/range.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/range.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_matcher_v3_range_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_matcher_v3_range_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_matcher_v3_Int64RangeMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_matcher_v3_range_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/regex.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/regex.upbdefs.h
index d9a5740e72..25c66df951 100644
--- a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/regex.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/regex.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_matcher_v3_regex_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_matcher_v3_regex_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_matcher_v3_RegexMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_matcher_v3_regex_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/string.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/string.upbdefs.h
index 2652fd7349..c9fb8ed4e7 100644
--- a/src/core/ext/upbdefs-gen/xds/type/matcher/v3/string.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/matcher/v3/string.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_matcher_v3_string_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_matcher_v3_string_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_matcher_v3_StringMatcher_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_matcher_v3_string_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/v3/cel.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/v3/cel.upbdefs.h
index 0726c4461c..4764a018df 100644
--- a/src/core/ext/upbdefs-gen/xds/type/v3/cel.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/v3/cel.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_v3_cel_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_v3_cel_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_v3_CelExpression_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_v3_cel_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/v3/range.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/v3/range.upbdefs.h
index cc589ef8d8..95fb402dfa 100644
--- a/src/core/ext/upbdefs-gen/xds/type/v3/range.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/v3/range.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_v3_range_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_v3_range_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_v3_Int64Range_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_v3_range_proto_upbdefinit);
diff --git a/src/core/ext/upbdefs-gen/xds/type/v3/typed_struct.upbdefs.h b/src/core/ext/upbdefs-gen/xds/type/v3/typed_struct.upbdefs.h
index b1f48d5eb7..637113c7c8 100644
--- a/src/core/ext/upbdefs-gen/xds/type/v3/typed_struct.upbdefs.h
+++ b/src/core/ext/upbdefs-gen/xds/type/v3/typed_struct.upbdefs.h
@@ -17,7 +17,7 @@
 extern "C" {
 #endif
 
-extern _upb_DefPool_Init xds_type_v3_typed_struct_proto_upbdefinit;
+GRPC_UPBGEN_DLL extern _upb_DefPool_Init xds_type_v3_typed_struct_proto_upbdefinit;
 
 UPB_INLINE const upb_MessageDef *xds_type_v3_TypedStruct_getmsgdef(upb_DefPool *s) {
   _upb_DefPool_LoadDefInit(s, &xds_type_v3_typed_struct_proto_upbdefinit);
